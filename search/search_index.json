{"config":{"lang":["ja"],"separator":"[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/","title":"\u30c6\u30b9\u30c8\u8a2d\u8a08","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#1","title":"1. \u30c6\u30b9\u30c8\u6226\u7565","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#11","title":"1.1 \u30c6\u30b9\u30c8\u30d4\u30e9\u30df\u30c3\u30c9","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u30c6\u30b9\u30c8\u30d4\u30e9\u30df\u30c3\u30c9\u306e\u539f\u5247\u306b\u57fa\u3065\u304d\u3001\u4ee5\u4e0b\u306e\u6bd4\u7387\u3067\u30c6\u30b9\u30c8\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002</p> <pre><code>        /\\\n       /  \\  E2E (10%)\n      /____\\\n     /      \\\n    / \u7d71\u5408    \\ (20%)\n   /___________\\\n  /             \\\n /   \u5358\u4f53\u30c6\u30b9\u30c8   \\ (70%)\n/__________________\\\n</code></pre>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#12","title":"1.2 \u30c6\u30b9\u30c8\u30ec\u30d9\u30eb","text":"\u30ec\u30d9\u30eb \u76ee\u7684 \u30c4\u30fc\u30eb \u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0 \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8 \u95a2\u6570\u30fb\u30e1\u30bd\u30c3\u30c9\u5358\u4f4d\u306e\u52d5\u4f5c\u691c\u8a3c Vitest, Testing Library \u30b3\u30df\u30c3\u30c8\u524d\u3001PR\u4f5c\u6210\u6642 \u7d71\u5408\u30c6\u30b9\u30c8 \u30e2\u30b8\u30e5\u30fc\u30eb\u9593\u306e\u9023\u643a\u691c\u8a3c Vitest, supertest PR\u4f5c\u6210\u6642\u3001main\u30de\u30fc\u30b8\u6642 E2E\u30c6\u30b9\u30c8 \u30e6\u30fc\u30b6\u30fc\u30b7\u30ca\u30ea\u30aa\u306e\u691c\u8a3c Playwright main\u30de\u30fc\u30b8\u6642\u3001\u30ea\u30ea\u30fc\u30b9\u524d \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8 \u8106\u5f31\u6027\u306e\u691c\u51fa OWASP ZAP, CodeQL \u9031\u6b21\u3001\u30ea\u30ea\u30fc\u30b9\u524d \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c6\u30b9\u30c8 \u8ca0\u8377\u8010\u6027\u306e\u691c\u8a3c K6 \u30ea\u30ea\u30fc\u30b9\u524d\u3001\u5fc5\u8981\u6642 \u30a2\u30af\u30bb\u30b7\u30d3\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8 WCAG\u6e96\u62e0\u306e\u78ba\u8a8d axe-core PR\u4f5c\u6210\u6642 \u30d3\u30b8\u30e5\u30a2\u30eb\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3 UI\u5909\u66f4\u306e\u691c\u8a3c Storybook, Chromatic PR\u4f5c\u6210\u6642"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#2","title":"2. \u30c6\u30b9\u30c8\u7a2e\u5225\u8a73\u7d30","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#21-unit-test","title":"2.1 \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\uff08Unit Test\uff09","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_2","title":"\u5bfe\u8c61","text":"<ul> <li>\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af</li> <li>\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570</li> <li>\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3</li> <li>\u30d5\u30c3\u30af\uff08React Hooks\uff09</li> <li>\u30b5\u30fc\u30d3\u30b9\u5c64</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_3","title":"\u30c4\u30fc\u30eb","text":"<ul> <li>Vitest - \u9ad8\u901f\u306a\u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fc</li> <li>@testing-library/react - React\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30c6\u30b9\u30c8</li> <li>@testing-library/user-event - \u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_4","title":"\u30ab\u30d0\u30ec\u30c3\u30b8\u76ee\u6a19","text":"<ul> <li>\u5206\u5c90\u7db2\u7f85\u7387: 80\uff05\u4ee5\u4e0a</li> <li>\u95a2\u6570\u7db2\u7f85\u7387: 90\uff05\u4ee5\u4e0a</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_5","title":"\u547d\u540d\u898f\u5247","text":"<pre><code>src/\n\u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 Button.tsx\n\u2502   \u2514\u2500\u2500 Button.spec.tsx        # \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30c6\u30b9\u30c8\n\u251c\u2500\u2500 hooks/\n\u2502   \u251c\u2500\u2500 useAuth.ts\n\u2502   \u2514\u2500\u2500 useAuth.spec.ts        # \u30d5\u30c3\u30af\u30c6\u30b9\u30c8\n\u2514\u2500\u2500 utils/\n    \u251c\u2500\u2500 validation.ts\n    \u2514\u2500\u2500 validation.spec.ts     # \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8\n</code></pre>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#22-integration-test","title":"2.2 \u7d71\u5408\u30c6\u30b9\u30c8\uff08Integration Test\uff09","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_6","title":"\u5bfe\u8c61","text":"<ul> <li>API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u9023\u643a</li> <li>\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u9023\u643a\uff08\u30e2\u30c3\u30af\u4f7f\u7528\uff09</li> <li>\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u9593\u306e\u9023\u643a</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_7","title":"\u30c4\u30fc\u30eb","text":"<ul> <li>supertest - API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30c6\u30b9\u30c8</li> <li>Vitest - \u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fc</li> <li>MSW (Mock Service Worker) - API\u30e2\u30c3\u30af</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_8","title":"\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf","text":"<ul> <li>Prisma Seed \u3092\u4f7f\u7528\u3057\u305f\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u6295\u5165</li> <li>\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306b\u3088\u308b\u30c6\u30b9\u30c8\u5f8c\u306e\u30ed\u30fc\u30eb\u30d0\u30c3\u30af</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#23-e2eend-to-end-test","title":"2.3 E2E\u30c6\u30b9\u30c8\uff08End-to-End Test\uff09","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_9","title":"\u5bfe\u8c61","text":"<ul> <li>\u30e6\u30fc\u30b6\u30fc\u30b7\u30ca\u30ea\u30aa\u5168\u4f53\u306e\u691c\u8a3c</li> <li>\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30d1\u30b9\uff08\u30ed\u30b0\u30a4\u30f3\u3001\u30c7\u30fc\u30bf\u767b\u9332\u7b49\uff09</li> <li>\u30d6\u30e9\u30a6\u30b6\u4e92\u63db\u6027</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_10","title":"\u30c4\u30fc\u30eb","text":"<ul> <li>Playwright - E2E\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af</li> <li>Chromium, Firefox, WebKit\u5bfe\u5fdc</li> <li>\u30d8\u30c3\u30c9\u30ec\u30b9/\u30d8\u30c3\u30c9\u30d5\u30eb\u30e2\u30fc\u30c9</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#24-api","title":"2.4 API\u30c6\u30b9\u30c8","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_11","title":"\u624b\u52d5\u30c6\u30b9\u30c8","text":"<ul> <li>REST Client - VSCode\u62e1\u5f35\u6a5f\u80fd</li> <li>Apidog</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_12","title":"\u8ca0\u8377\u30c6\u30b9\u30c8","text":"<ul> <li>K6 - \u8ca0\u8377\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#25","title":"2.5 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#sast-static-application-security-testing","title":"SAST (Static Application Security Testing)","text":"<p>\u30c4\u30fc\u30eb:</p> <ul> <li>CodeQL - GitHub Code Scanning</li> <li>Biome - \u9759\u7684\u89e3\u6790</li> </ul> <p>\u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0:</p> <ul> <li>PR\u4f5c\u6210\u6642\uff08\u81ea\u52d5\uff09</li> <li>main\u30de\u30fc\u30b8\u6642\uff08\u81ea\u52d5\uff09</li> </ul> <p>\u691c\u51fa\u5bfe\u8c61:</p> <ul> <li>\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3055\u308c\u305f\u30b7\u30fc\u30af\u30ec\u30c3\u30c8</li> <li>SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3001XSS\u306e\u53ef\u80fd\u6027</li> <li>\u5b89\u5168\u3067\u306a\u3044API\u4f7f\u7528</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#dast-dynamic-application-security-testing","title":"DAST (Dynamic Application Security Testing)","text":"<p>\u30c4\u30fc\u30eb:</p> <ul> <li>OWASP ZAP - \u52d5\u7684\u8106\u5f31\u6027\u30b9\u30ad\u30e3\u30ca</li> </ul> <p>\u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0:</p> <ul> <li>\u9031\u6b21\uff08\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30b9\u30ad\u30e3\u30f3\uff09</li> <li>\u30ea\u30ea\u30fc\u30b9\u524d\uff08\u30d5\u30eb\u30b9\u30ad\u30e3\u30f3\uff09</li> <li>\u91cd\u8981\u306a\u6a5f\u80fd\u8ffd\u52a0\u6642\uff08\u30d5\u30eb\u30b9\u30ad\u30e3\u30f3\uff09</li> </ul> <p>\u5bfe\u8c61\u74b0\u5883:</p> <ul> <li>Staging\u74b0\u5883</li> </ul> <p>\u30ec\u30dd\u30fc\u30c8:</p> <ul> <li>\u51fa\u529b\u5148: <code>infra/dast/reports/</code></li> <li>\u5f62\u5f0f: HTML, JSON, Markdown, XML</li> <li>\u78ba\u8a8d\u65b9\u6cd5:</li> </ul> <p><code>bash   open infra/dast/reports/zap-baseline-report-YYYYMMDD-HHMMSS.html</code></p> <p>\u8106\u5f31\u6027\u30ec\u30d9\u30eb:</p> <ul> <li>High: \u5373\u5ea7\u306b\u5bfe\u5fdc\uff081\u55b6\u696d\u65e5\u4ee5\u5185\uff09</li> <li>Medium: \u6b21\u56de\u30ea\u30ea\u30fc\u30b9\u307e\u3067\u306b\u5bfe\u5fdc\uff081\u9031\u9593\u4ee5\u5185\uff09</li> <li>Low: \u8a08\u753b\u7684\u306b\u5bfe\u5fdc\uff081\u30f6\u6708\u4ee5\u5185\uff09</li> <li>Informational: \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5bfe\u5fdc</li> </ul> <p>\u8a73\u7d30:</p> <ul> <li>DAST\u30c6\u30b9\u30c8\u8a73\u7d30\uff1a\u300cinfra/dast/README.md\u300d\u3092\u53c2\u7167</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u8a08</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_13","title":"\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8106\u5f31\u6027\u30b9\u30ad\u30e3\u30f3","text":"<ul> <li>npm audit</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#26","title":"2.6 \u30a2\u30af\u30bb\u30b7\u30d3\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_14","title":"\u30c4\u30fc\u30eb","text":"<ul> <li>axe-core - \u30a2\u30af\u30bb\u30b7\u30d3\u30ea\u30c6\u30a3\u691c\u8a3c\u30c4\u30fc\u30eb</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_15","title":"\u6e96\u62e0\u57fa\u6e96","text":"<ul> <li>WCAG 2.1 Level AA</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#27","title":"2.7 \u30d3\u30b8\u30e5\u30a2\u30eb\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_16","title":"\u30c4\u30fc\u30eb","text":"<ul> <li>Storybook - UI\u30ab\u30bf\u30ed\u30b0</li> <li>Chromatic - \u30d3\u30b8\u30e5\u30a2\u30eb\u30c6\u30b9\u30c8</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#3","title":"3. \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u7ba1\u7406","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#31","title":"3.1 \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u6295\u5165","text":"<ul> <li>Prisma Seed</li> <li>\u30d5\u30a3\u30af\u30b9\u30c1\u30e3</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#32","title":"3.2 \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7","text":"<ul> <li>\u5358\u4f53\u30fb\u7d71\u5408\u30c6\u30b9\u30c8: \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30ed\u30fc\u30eb\u30d0\u30c3\u30af</li> <li>E2E\u30c6\u30b9\u30c8: \u5c02\u7528\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f7f\u7528\u3001\u30c6\u30b9\u30c8\u5f8c\u306b\u524a\u9664</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#4","title":"4. \u30e2\u30c3\u30af\u30fb\u30b9\u30bf\u30d6","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#41-apimsw","title":"4.1 API\u30e2\u30c3\u30af\uff08MSW\uff09","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#42","title":"4.2 \u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30e2\u30c3\u30af","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#5","title":"5. \u30c6\u30b9\u30c8\u5b9f\u884c\u74b0\u5883","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#51","title":"5.1 \u30ed\u30fc\u30ab\u30eb\u74b0\u5883","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#52-cicd","title":"5.2 CI/CD\u74b0\u5883","text":"<p>GitHub Actions:</p> <ul> <li>PR\u4f5c\u6210\u6642: \u30ea\u30f3\u30c8\u3001\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3001\u7d71\u5408\u30c6\u30b9\u30c8</li> <li>main\u30de\u30fc\u30b8\u6642: \u5168\u30c6\u30b9\u30c8\u5b9f\u884c</li> <li>\u30ea\u30ea\u30fc\u30b9\u6642: E2E\u30c6\u30b9\u30c8\u3001DAST\u30c6\u30b9\u30c8</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#6","title":"6. \u30c6\u30b9\u30c8\u54c1\u8cea\u6307\u6a19","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#61","title":"6.1 \u30ab\u30d0\u30ec\u30c3\u30b8\u76ee\u6a19","text":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u5206\u5c90\u7db2\u7f85\u7387 \u95a2\u6570\u7db2\u7f85\u7387 \u884c\u7db2\u7f85\u7387 web 70\uff05\u4ee5\u4e0a 80\uff05\u4ee5\u4e0a 75\uff05\u4ee5\u4e0a api-core 80\uff05\u4ee5\u4e0a 90\uff05\u4ee5\u4e0a 85\uff05\u4ee5\u4e0a libs/* 80\uff05\u4ee5\u4e0a 90\uff05\u4ee5\u4e0a 85\uff05\u4ee5\u4e0a"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#62","title":"6.2 \u6210\u529f\u57fa\u6e96","text":"<ul> <li>\u5358\u4f53\u30fb\u7d71\u5408\u30c6\u30b9\u30c8: 100\uff05\u30d1\u30b9</li> <li>E2E\u30c6\u30b9\u30c8: 95\uff05\u4ee5\u4e0a\u30d1\u30b9\uff08\u74b0\u5883\u4f9d\u5b58\u3092\u8003\u616e\uff09</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8: High\u30ec\u30d9\u30eb\u306e\u8106\u5f31\u6027\u306a\u3057</li> <li>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c6\u30b9\u30c8: \u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0500ms\u4ee5\u5185\uff0895\u30d1\u30fc\u30bb\u30f3\u30bf\u30a4\u30eb\uff09</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#7","title":"7. \u30c6\u30b9\u30c8\u81ea\u52d5\u5316","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#71-pre-commit","title":"7.1 pre-commit \u30d5\u30c3\u30af","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#72-cicd","title":"7.2 CI/CD\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3","text":"<p>GitHub Actions \u30ef\u30fc\u30af\u30d5\u30ed\u30fc:</p> <ul> <li><code>reviewdog.yml</code> - PR\u30ec\u30d3\u30e5\u30fc\u6642\u306e\u30ea\u30f3\u30c8</li> <li>\uff08\u4eca\u5f8c\u8ffd\u52a0\u4e88\u5b9a\uff09<code>test.yml</code> - \u81ea\u52d5\u30c6\u30b9\u30c8\u5b9f\u884c</li> <li>\uff08\u4eca\u5f8c\u8ffd\u52a0\u4e88\u5b9a\uff09<code>dast.yml</code> - \u9031\u6b21DAST\u30b9\u30ad\u30e3\u30f3</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#8","title":"8. \u30c6\u30b9\u30c8\u5b9f\u65bd\u30bf\u30a4\u30df\u30f3\u30b0","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#81","title":"8.1 \u958b\u767a\u30d5\u30ed\u30fc","text":"<pre><code>graph LR\n    A[\u30b3\u30fc\u30c9\u5b9f\u88c5] --&gt; B[\u5358\u4f53\u30c6\u30b9\u30c8\u4f5c\u6210]\n    B --&gt; C[\u30ed\u30fc\u30ab\u30eb\u30c6\u30b9\u30c8\u5b9f\u884c]\n    C --&gt; D[\u30b3\u30df\u30c3\u30c8]\n    D --&gt; E[pre-commit\u30d5\u30c3\u30af]\n    E --&gt; F[PR\u4f5c\u6210]\n    F --&gt; G[CI\u5b9f\u884c]\n    G --&gt; H[\u30b3\u30fc\u30c9\u30ec\u30d3\u30e5\u30fc]\n    H --&gt; I[main\u30de\u30fc\u30b8]\n    I --&gt; J[\u5168\u30c6\u30b9\u30c8\u5b9f\u884c]\n</code></pre>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#82","title":"8.2 \u5b9a\u671f\u5b9f\u884c","text":"\u30c6\u30b9\u30c8\u7a2e\u5225 \u983b\u5ea6 \u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0 \u5358\u4f53\u30fb\u7d71\u5408\u30c6\u30b9\u30c8 \u30b3\u30df\u30c3\u30c8\u3054\u3068 pre-commit, PR\u4f5c\u6210\u6642 E2E\u30c6\u30b9\u30c8 main\u30de\u30fc\u30b8\u6642 \u30de\u30fc\u30b8\u5f8c DAST\u30c6\u30b9\u30c8\uff08\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\uff09 \u9031\u6b21 \u6bce\u9031\u6708\u66dc\u65e5 DAST\u30c6\u30b9\u30c8\uff08\u30d5\u30eb\uff09 \u30ea\u30ea\u30fc\u30b9\u524d \u624b\u52d5\u5b9f\u884c \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u30b9\u30ad\u30e3\u30f3 \u9031\u6b21 Dependabot"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#9","title":"9. \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#91","title":"9.1 \u30c6\u30b9\u30c8\u5931\u6557\u6642\u306e\u5bfe\u5fdc","text":"<ol> <li>\u30ed\u30fc\u30ab\u30eb\u3067\u518d\u73fe\u78ba\u8a8d</li> <li>\u30ed\u30b0\u78ba\u8a8d</li> <li>\u30b3\u30f3\u30bd\u30fc\u30eb\u51fa\u529b</li> <li>\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\uff08E2E\u30c6\u30b9\u30c8\uff09</li> <li>\u30d3\u30c7\u30aa\u9332\u753b\uff08E2E\u30c6\u30b9\u30c8\uff09</li> <li>\u539f\u56e0\u7279\u5b9a</li> <li>\u74b0\u5883\u5dee\u7570\u306e\u78ba\u8a8d</li> <li>\u30c7\u30fc\u30bf\u4f9d\u5b58\u6027\u306e\u78ba\u8a8d</li> <li>\u30bf\u30a4\u30df\u30f3\u30b0\u554f\u984c\u306e\u78ba\u8a8d</li> </ol>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#92","title":"9.2 \u3088\u304f\u3042\u308b\u554f\u984c","text":""},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#e2e","title":"E2E\u30c6\u30b9\u30c8\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3059\u308b","text":"<ul> <li>\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u6642\u9593\u3092\u5ef6\u9577</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#_17","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30c6\u30b9\u30c8\u304c\u7af6\u5408\u3059\u308b","text":"<ul> <li>\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5206\u96e2</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#10","title":"10. \u53c2\u8003\u8cc7\u6599","text":"<ul> <li>Vitest Documentation</li> <li>Playwright Documentation</li> <li>Testing Library</li> <li>OWASP ZAP Documentation</li> <li>K6 Documentation</li> <li>axe-core Documentation</li> </ul>"},{"location":"04-%E5%A4%96%E9%83%A8%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/%E3%83%86%E3%82%B9%E3%83%88%E8%A8%AD%E8%A8%88/#11_1","title":"11. \u66f4\u65b0\u5c65\u6b74","text":"\u65e5\u4ed8 \u7248\u6570 \u66f4\u65b0\u5185\u5bb9 \u66f4\u65b0\u8005 2025-11-13 1.0 \u521d\u7248\u4f5c\u6210\u3001DAST\u5c0e\u5165 Claude Code"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u8a08","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#1","title":"1. \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u65b9\u91dd","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#11","title":"1.1 \u57fa\u672c\u539f\u5247","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u539f\u5247\u306b\u57fa\u3065\u3044\u3066\u8a2d\u8a08\u30fb\u958b\u767a\u3059\u308b\u3002</p> <ol> <li>\u6700\u5c0f\u6a29\u9650\u306e\u539f\u5247 - \u5fc5\u8981\u6700\u5c0f\u9650\u306e\u6a29\u9650\u306e\u307f\u3092\u4ed8\u4e0e</li> <li>\u591a\u5c64\u9632\u5fa1 - \u8907\u6570\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30a4\u30e4\u30fc\u3067\u4fdd\u8b77</li> <li>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5b89\u5168 - \u30bb\u30ad\u30e5\u30a2\u306a\u8a2d\u5b9a\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u3068\u3059\u308b</li> <li>\u5b8c\u5168\u306a\u4ef2\u4ecb - \u3059\u3079\u3066\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30c1\u30a7\u30c3\u30af</li> <li>\u30aa\u30fc\u30d7\u30f3\u306a\u8a2d\u8a08 - \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u79d8\u5bc6\u306b\u4f9d\u5b58\u3055\u305b\u306a\u3044</li> </ol>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#12","title":"1.2 \u8105\u5a01\u30e2\u30c7\u30eb","text":"<p>\u60f3\u5b9a\u3055\u308c\u308b\u4e3b\u306a\u8105\u5a01\u3002</p> <ul> <li>OWASP Top 10: Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u822c\u7684\u306a\u8106\u5f31\u6027</li> <li>\u8a8d\u8a3c\u30fb\u8a8d\u53ef\u306e\u4e0d\u5099: \u4e0d\u6b63\u30a2\u30af\u30bb\u30b9\u3001\u6a29\u9650\u6607\u683c</li> <li>\u30c7\u30fc\u30bf\u6f0f\u6d29: \u500b\u4eba\u60c5\u5831\u3001\u6a5f\u5bc6\u60c5\u5831\u306e\u6d41\u51fa</li> <li>DDoS\u653b\u6483: \u30b5\u30fc\u30d3\u30b9\u62d2\u5426\u653b\u6483</li> <li>\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u653b\u6483: SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3001XSS\u7b49</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#2","title":"2. \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8\u6226\u7565","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#21-sast-static-application-security-testing","title":"2.1 SAST (Static Application Security Testing)","text":"<p>\u6982\u8981: \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u9759\u7684\u89e3\u6790\u306b\u3088\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8106\u5f31\u6027\u306e\u691c\u51fa\u3002</p> <p>\u30c4\u30fc\u30eb:</p> <ul> <li>CodeQL - GitHub Code Scanning</li> <li>Biome - TypeScript/JavaScript\u9759\u7684\u89e3\u6790</li> </ul> <p>\u5b9f\u65bd\u30bf\u30a4\u30df\u30f3\u30b0:</p> <ul> <li>\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u4f5c\u6210\u6642\uff08\u81ea\u52d5\uff09</li> <li>main\u30d6\u30e9\u30f3\u30c1\u3078\u306e\u30de\u30fc\u30b8\u6642\uff08\u81ea\u52d5\uff09</li> </ul> <p>\u691c\u51fa\u5bfe\u8c61:</p> <ul> <li>\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3055\u308c\u305f\u30b7\u30fc\u30af\u30ec\u30c3\u30c8</li> <li>SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3001XSS\u306e\u53ef\u80fd\u6027</li> <li>\u5b89\u5168\u3067\u306a\u3044API\u4f7f\u7528</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a\u306e\u4e0d\u5099</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#22-dast-dynamic-application-security-testing","title":"2.2 DAST (Dynamic Application Security Testing)","text":"<p>\u6982\u8981: \u7a3c\u50cd\u4e2d\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5bfe\u3059\u308b\u52d5\u7684\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8\u3002</p> <p>\u30c4\u30fc\u30eb:</p> <ul> <li>OWASP ZAP - Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8106\u5f31\u6027\u30b9\u30ad\u30e3\u30ca</li> </ul> <p>\u5b9f\u65bd\u74b0\u5883:</p> <ul> <li>Staging\u74b0\u5883\uff08\u63a8\u5968\uff09</li> <li>\u958b\u767a\u74b0\u5883\uff08\u30ed\u30fc\u30ab\u30eb\uff09</li> </ul> <p>\u30b9\u30ad\u30e3\u30f3\u30e2\u30fc\u30c9:</p>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#_2","title":"\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30b9\u30ad\u30e3\u30f3","text":"<ul> <li>\u983b\u5ea6: \u9031\u6b21\u3001\u307e\u305f\u306f\u91cd\u8981\u306a\u6a5f\u80fd\u8ffd\u52a0\u6642</li> <li>\u7279\u5fb4: \u53d7\u52d5\u7684\u30b9\u30ad\u30e3\u30f3\u306e\u307f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u653b\u6483\u3057\u306a\u3044</li> <li>\u6240\u8981\u6642\u9593: \u6570\u5206\u301c10\u5206\u7a0b\u5ea6</li> <li>\u5b9f\u884c\u65b9\u6cd5:</li> </ul> <p><code>bash   cd infra/dast   ./run-zap-scan.sh</code></p>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#_3","title":"\u30d5\u30eb\u30b9\u30ad\u30e3\u30f3","text":"<ul> <li>\u983b\u5ea6: \u30ea\u30ea\u30fc\u30b9\u524d\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u76e3\u67fb\u6642</li> <li>\u7279\u5fb4: \u80fd\u52d5\u7684\u653b\u6483\u3092\u542b\u3080\u5305\u62ec\u7684\u306a\u30c6\u30b9\u30c8</li> <li>\u6240\u8981\u6642\u9593: 30\u5206\u301c\u6570\u6642\u9593</li> <li>\u6ce8\u610f: \u672c\u756a\u74b0\u5883\u3067\u306f\u5b9f\u884c\u3057\u306a\u3044\u3053\u3068</li> <li>\u5b9f\u884c\u65b9\u6cd5:</li> </ul> <p><code>bash   cd infra/dast   ./run-zap-scan.sh -m full</code></p> <p>\u691c\u51fa\u5bfe\u8c61:</p> <ul> <li>XSS\uff08\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0\uff09</li> <li>SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3</li> <li>CSRF\u30c8\u30fc\u30af\u30f3\u306e\u4e0d\u5099</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u306e\u6b20\u843d</li> <li>SSL/TLS\u8a2d\u5b9a\u306e\u554f\u984c</li> <li>\u8a8d\u8a3c\u30fb\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u306e\u8106\u5f31\u6027</li> </ul> <p>\u30ec\u30dd\u30fc\u30c8:</p> <ul> <li>\u51fa\u529b\u5148: <code>infra/dast/reports/</code></li> <li>\u5f62\u5f0f: HTML\u3001JSON\u3001Markdown\u3001XML</li> <li>\u4fdd\u5b58\u671f\u9593: \u6700\u4f4e6\u30f6\u6708\uff08\u76e3\u67fb\u8a3c\u8de1\u3068\u3057\u3066\uff09</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#23","title":"2.3 \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8106\u5f31\u6027\u30b9\u30ad\u30e3\u30f3","text":"<p>\u30c4\u30fc\u30eb:</p> <ul> <li>npm audit - npm\u516c\u5f0f\u306e\u8106\u5f31\u6027\u30b9\u30ad\u30e3\u30f3</li> <li>Dependabot - GitHub\u81ea\u52d5\u4f9d\u5b58\u95a2\u4fc2\u66f4\u65b0</li> </ul> <p>\u5b9f\u65bd\u30bf\u30a4\u30df\u30f3\u30b0:</p> <ul> <li>\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u8ffd\u52a0\u30fb\u66f4\u65b0\u6642</li> <li>\u5b9a\u671f\u5b9f\u884c\uff08\u9031\u6b21\uff09</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#3","title":"3. \u8a8d\u8a3c\u30fb\u8a8d\u53ef","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#31","title":"3.1 \u8a8d\u8a3c\u65b9\u5f0f","text":"<p>\u5b9f\u88c5\u4e88\u5b9a:</p> <ul> <li>JWT (JSON Web Token) \u30d9\u30fc\u30b9\u306e\u8a8d\u8a3c</li> <li>Passport.js \u306b\u3088\u308b\u8a8d\u8a3c\u6226\u7565</li> <li>Local\u6226\u7565\uff08\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 + \u30d1\u30b9\u30ef\u30fc\u30c9\uff09</li> <li>OAuth 2.0 / OpenID Connect\uff08\u5c06\u6765\u7684\u306b\uff09</li> </ul> <p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8981\u4ef6:</p> <ul> <li>\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u5316\uff08bcrypt\u3001\u30bd\u30eb\u30c8\u4ed8\u304d\uff09</li> <li>\u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u7ba1\u7406</li> <li>\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30c8\u30fc\u30af\u30f3\u306e\u5b9f\u88c5</li> <li>CSRF\u5bfe\u7b56</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#32","title":"3.2 \u8a8d\u53ef\u30e2\u30c7\u30eb","text":"<p>\u5b9f\u88c5\u4e88\u5b9a:</p> <ul> <li>\u30ed\u30fc\u30eb\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff08RBAC\uff09</li> <li>\u30ea\u30bd\u30fc\u30b9\u30ec\u30d9\u30eb\u3067\u306e\u6a29\u9650\u30c1\u30a7\u30c3\u30af</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#4","title":"4. \u30c7\u30fc\u30bf\u4fdd\u8b77","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#41","title":"4.1 \u6697\u53f7\u5316","text":"<p>\u901a\u4fe1\u306e\u6697\u53f7\u5316:</p> <ul> <li>HTTPS (TLS 1.2\u4ee5\u4e0a) \u306b\u3088\u308b\u901a\u4fe1\u306e\u6697\u53f7\u5316</li> <li>CloudFront + ACM\u8a3c\u660e\u66f8\u306e\u4f7f\u7528</li> </ul> <p>\u4fdd\u7ba1\u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316:</p> <ul> <li>RDS\uff08Aurora PostgreSQL\uff09: \u4fdd\u5b58\u6642\u306e\u6697\u53f7\u5316\u6709\u52b9\u5316</li> <li>S3: \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u6697\u53f7\u5316\uff08SSE-S3\uff09</li> <li>\u30b7\u30fc\u30af\u30ec\u30c3\u30c8: AWS Systems Manager Parameter Store\uff08SecureString\uff09</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#42","title":"4.2 \u500b\u4eba\u60c5\u5831\u4fdd\u8b77","text":"<ul> <li>\u6700\u5c0f\u9650\u306e\u500b\u4eba\u60c5\u5831\u306e\u307f\u53ce\u96c6</li> <li>\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u533f\u540d\u5316</li> <li>\u30c7\u30fc\u30bf\u524a\u9664\u30dd\u30ea\u30b7\u30fc\u306e\u5b9f\u88c5\uff08GDPR\u5bfe\u5fdc\uff09</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#5","title":"5. \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#51","title":"5.1 \u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":"<p>VPC\u69cb\u6210:</p> <ul> <li>\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30b5\u30d6\u30cd\u30c3\u30c8: \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc</li> <li>\u30d1\u30d6\u30ea\u30c3\u30af\u30b5\u30d6\u30cd\u30c3\u30c8: ALB\u3001Bastion\uff08Staging\u74b0\u5883\u306f\u30b3\u30b9\u30c8\u524a\u6e1b\u306e\u305f\u3081\u30d1\u30d6\u30ea\u30c3\u30af\u914d\u7f6e\uff09</li> </ul> <p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7:</p> <ul> <li>\u6700\u5c0f\u6a29\u9650\u306e\u539f\u5247\u306b\u57fa\u3065\u304f\u30eb\u30fc\u30eb\u8a2d\u5b9a</li> <li>\u30dd\u30fc\u30c8\u5358\u4f4d\u3001IP\u30a2\u30c9\u30ec\u30b9\u5358\u4f4d\u3067\u306e\u5236\u9650</li> <li>Staging\u74b0\u5883: \u52d5\u7684IP\u691c\u51fa + \u56fa\u5b9aIP\u8a31\u53ef</li> </ul> <p>WAF (Web Application Firewall):</p> <ul> <li>\u672c\u756a\u74b0\u5883: \u6709\u52b9\u5316\uff08\u5fc5\u9808\uff09</li> <li>Staging\u74b0\u5883: \u7121\u52b9\u5316\uff08\u30b3\u30b9\u30c8\u524a\u6e1b\u306e\u305f\u3081\uff09</li> <li>\u30eb\u30fc\u30eb:</li> <li>SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5bfe\u7b56</li> <li>XSS\u5bfe\u7b56</li> <li>\u30ec\u30fc\u30c8\u5236\u9650</li> <li>\u5730\u7406\u7684\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\uff08\u5fc5\u8981\u306b\u5fdc\u3058\u3066\uff09</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#52-ddos","title":"5.2 DDoS\u5bfe\u7b56","text":"<ul> <li>CloudFront \u306b\u3088\u308b\u5206\u6563\u51e6\u7406</li> <li>AWS Shield Standard\uff08\u81ea\u52d5\u9069\u7528\uff09</li> <li>\u30ec\u30fc\u30c8\u5236\u9650\uff08API Gateway\u3001WAF\uff09</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#6","title":"6. \u30bb\u30ad\u30e5\u30a2\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#61","title":"6.1 \u5165\u529b\u691c\u8a3c","text":"<ul> <li>\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9: Zod \u30b9\u30ad\u30fc\u30de\u306b\u3088\u308b\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3</li> <li>\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9: Class Validator\u3001Class Transformer</li> <li>\u539f\u5247: \u3059\u3079\u3066\u306e\u5165\u529b\u3092\u4fe1\u983c\u3057\u306a\u3044</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#62","title":"6.2 \u51fa\u529b\u30a8\u30b9\u30b1\u30fc\u30d7","text":"<ul> <li>XSS\u5bfe\u7b56: React \u306e\u81ea\u52d5\u30a8\u30b9\u30b1\u30fc\u30d7\u6a5f\u80fd\u3092\u6d3b\u7528</li> <li>SQL\u5bfe\u7b56: Prisma O/R\u30de\u30c3\u30d1 \u306b\u3088\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u30af\u30a8\u30ea</li> <li>\u30b3\u30de\u30f3\u30c9\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5bfe\u7b56: \u30b7\u30a7\u30eb\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306e\u6700\u5c0f\u5316</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#63","title":"6.3 \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0","text":"<ul> <li>\u672c\u756a\u74b0\u5883: \u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u8868\u793a\u3057\u306a\u3044</li> <li>\u30a8\u30e9\u30fc\u30ed\u30b0: \u6a5f\u5bc6\u60c5\u5831\u3092\u542b\u3081\u306a\u3044</li> <li>\u30e6\u30fc\u30b6\u30fc\u3078\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8: \u6700\u5c0f\u9650\u306e\u60c5\u5831\u306e\u307f</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#7","title":"7. \u30ed\u30ae\u30f3\u30b0\u30fb\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#71","title":"7.1 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ed\u30b0","text":"<p>\u8a18\u9332\u5bfe\u8c61:</p> <ul> <li>\u8a8d\u8a3c\u30a4\u30d9\u30f3\u30c8\uff08\u6210\u529f\u30fb\u5931\u6557\uff09</li> <li>\u8a8d\u53ef\u30a8\u30e9\u30fc</li> <li>\u5165\u529b\u691c\u8a3c\u30a8\u30e9\u30fc</li> <li>API\u547c\u3073\u51fa\u3057\uff08\u30ec\u30fc\u30c8\u5236\u9650\u8d85\u904e\u7b49\uff09</li> </ul> <p>\u30ed\u30b0\u4fdd\u7ba1:</p> <ul> <li>MongoDB Atlas\uff08\u96c6\u4e2d\u30ed\u30b0\u7ba1\u7406\uff09</li> <li>CloudWatch Logs</li> <li>\u4fdd\u5b58\u671f\u9593: \u6700\u4f4e6\u30f6\u6708</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#72","title":"7.2 \u76e3\u8996\u30fb\u30a2\u30e9\u30fc\u30c8","text":"<p>\u76e3\u8996\u30c4\u30fc\u30eb:</p> <ul> <li>Datadog - APM\u3001\u30a4\u30f3\u30d5\u30e9\u76e3\u8996</li> <li>Sentry - \u30a8\u30e9\u30fc\u8ffd\u8de1\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996</li> </ul> <p>\u30a2\u30e9\u30fc\u30c8\u6761\u4ef6:</p> <ul> <li>\u8a8d\u8a3c\u5931\u6557\u306e\u6025\u5897</li> <li>\u7570\u5e38\u306aAPI\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u30eb\u30fc\u30eb\u306e\u5909\u66f4</li> <li>\u9ad8\u30ea\u30b9\u30af\u8106\u5f31\u6027\u306e\u691c\u51fa\uff08DAST/SAST\uff09</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#8","title":"8. \u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u5bfe\u5fdc","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#81","title":"8.1 \u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u5bfe\u5fdc\u30d5\u30ed\u30fc","text":"<ol> <li>\u691c\u77e5 - \u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u30c4\u30fc\u30eb\u306b\u3088\u308b\u81ea\u52d5\u691c\u77e5</li> <li>\u521d\u52d5\u5bfe\u5fdc - \u5f71\u97ff\u7bc4\u56f2\u306e\u7279\u5b9a\u3001\u7dca\u6025\u63aa\u7f6e</li> <li>\u5c01\u3058\u8fbc\u3081 - \u88ab\u5bb3\u62e1\u5927\u306e\u9632\u6b62</li> <li>\u6839\u672c\u539f\u56e0\u5206\u6790 - \u30ed\u30b0\u5206\u6790\u3001\u8106\u5f31\u6027\u7279\u5b9a</li> <li>\u5fa9\u65e7 - \u30b7\u30b9\u30c6\u30e0\u306e\u6b63\u5e38\u5316</li> <li>\u4e8b\u5f8c\u5bfe\u5fdc - \u518d\u767a\u9632\u6b62\u7b56\u306e\u5b9f\u65bd\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u66f4\u65b0</li> </ol>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#82","title":"8.2 \u9023\u7d61\u4f53\u5236","text":"<ul> <li>\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u5831\u544a\u5148: \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30aa\u30fc\u30ca\u30fc</li> <li>\u30a8\u30b9\u30ab\u30ec\u30fc\u30b7\u30e7\u30f3\u57fa\u6e96: \u500b\u4eba\u60c5\u5831\u6f0f\u6d29\u3001\u30b5\u30fc\u30d3\u30b9\u505c\u6b62\u7b49</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#9","title":"9. \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8","text":""},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#91","title":"9.1 \u958b\u767a\u6642","text":"<ul> <li> \u5165\u529b\u691c\u8a3c\u306e\u5b9f\u88c5</li> <li> \u51fa\u529b\u30a8\u30b9\u30b1\u30fc\u30d7\u306e\u5b9f\u88c5</li> <li> \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u306e\u5b9f\u88c5</li> <li> \u30bb\u30ad\u30e5\u30a2\u306a\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406</li> <li> \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u9069\u5207\u306a\u5b9f\u88c5</li> <li> \u6a5f\u5bc6\u60c5\u5831\u306e\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u7981\u6b62</li> <li> SAST\u30c4\u30fc\u30eb\u3067\u306e\u4e8b\u524d\u30c1\u30a7\u30c3\u30af</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#92","title":"9.2 \u30ea\u30ea\u30fc\u30b9\u524d","text":"<ul> <li> DAST\u30c6\u30b9\u30c8\u306e\u5b9f\u65bd\uff08\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3 + \u30d5\u30eb\uff09</li> <li> \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8106\u5f31\u6027\u30b9\u30ad\u30e3\u30f3</li> <li> \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u306e\u8a2d\u5b9a\u78ba\u8a8d</li> <li> SSL/TLS\u8a3c\u660e\u66f8\u306e\u6709\u52b9\u6027\u78ba\u8a8d</li> <li> WAF\u8a2d\u5b9a\u306e\u78ba\u8a8d\uff08\u672c\u756a\u74b0\u5883\uff09</li> <li> \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u78ba\u8a8d</li> <li> \u30ed\u30b0\u8a2d\u5b9a\u306e\u78ba\u8a8d</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#93","title":"9.3 \u904b\u7528\u6642","text":"<ul> <li> \u5b9a\u671f\u7684\u306aDAST\u30b9\u30ad\u30e3\u30f3\uff08\u9031\u6b21\uff09</li> <li> \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5b9a\u671f\u66f4\u65b0</li> <li> \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ed\u30b0\u306e\u5b9a\u671f\u78ba\u8a8d</li> <li> \u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u5bfe\u5fdc\u8a13\u7df4\uff08\u56db\u534a\u671f\u3054\u3068\uff09</li> <li> \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d1\u30c3\u30c1\u306e\u9069\u7528</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#10","title":"10. \u53c2\u8003\u8cc7\u6599","text":"<ul> <li>OWASP Top 10</li> <li>OWASP Application Security Verification Standard (ASVS)</li> <li>OWASP ZAP Documentation</li> <li>AWS \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9</li> <li>NestJS Security</li> <li>Next.js Security Headers</li> </ul>"},{"location":"05-%E5%86%85%E9%83%A8%E8%A8%AD%E8%A8%88/%E5%85%B1%E9%80%9A%E4%BB%95%E6%A7%98/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E8%A8%88/#11_1","title":"11. \u66f4\u65b0\u5c65\u6b74","text":"\u65e5\u4ed8 \u7248\u6570 \u66f4\u65b0\u5185\u5bb9 \u66f4\u65b0\u8005 2025-11-13 1.0 \u521d\u7248\u4f5c\u6210\u3001DAST\u5c0e\u5165 Claude Code"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/","title":"\u30a4\u30f3\u30d5\u30e9\u8a2d\u8a08\u6982\u8981","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_2","title":"\u76ee\u7684","text":"<p>\u672c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u958b\u767a\u30d5\u30a7\u30fc\u30ba\u306b\u5fdc\u3058\u3066\u6700\u9069\u306a\u30a4\u30f3\u30d5\u30e9\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p> <ul> <li>\u691c\u8a3c\u74b0\u5883\uff08Staging\uff09: \u672c\u756a\u74b0\u5883\u306b\u8fd1\u3044\u30b3\u30b9\u30c8\u3092\u6291\u3048\u305fAWS\u69cb\u6210</li> <li>\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u524d\uff08Production - Pre-Commercial\uff09: \u30b3\u30b9\u30d1\u91cd\u8996\u306e\u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9</li> <li>\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u5f8c\uff08Production - Commercial\uff09: AWS\u4e0a\u306b\u30d5\u30eb\u30de\u30cd\u30fc\u30b8\u30c9\u3067\u69cb\u7bc9\u3059\u308b\u5546\u7528\u74b0\u5883</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_3","title":"\u74b0\u5883\u6226\u7565","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#staging","title":"\u691c\u8a3c\u74b0\u5883\uff08Staging\uff09","text":"<p>\u672c\u756a\u74b0\u5883\u306b\u8fd1\u3044AWS\u69cb\u6210\u3092\u30b3\u30b9\u30c8\u3092\u6291\u3048\u3066\u69cb\u7bc9\u3057\u3001\u672c\u756a\u30ea\u30ea\u30fc\u30b9\u524d\u306e\u6700\u7d42\u691c\u8a3c\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002</p> <p>\u4e3b\u8981\u30b5\u30fc\u30d3\u30b9:</p> <ul> <li>IaC: Terraform + Terragrunt</li> <li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0: ECS on Fargate\uff08\u30b3\u30b9\u30c8\u6700\u9069\u5316\uff09</li> <li>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af: VPC\u3001ALB</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9: RDS PostgreSQL (db.t4g.micro)\u3001MongoDB Atlas</li> <li>\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0: CloudWatch\u3001Datadog\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\u3001Sentry</li> </ul> <p>\u7528\u9014:</p> <ul> <li>\u672c\u756a\u74b0\u5883\u306b\u8fd1\u3044\u69cb\u6210\u3067\u306e\u691c\u8a3c</li> <li>\u8ca0\u8377\u30c6\u30b9\u30c8\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8</li> <li>\u30ea\u30ea\u30fc\u30b9\u524d\u306e\u6700\u7d42\u78ba\u8a8d</li> <li>\u30b3\u30b9\u30c8\u6700\u9069\u5316\uff08\u55b6\u696d\u6642\u9593\u306e\u307f\u7a3c\u50cd: $60\u301c70/\u6708\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_production-pre-commercial","title":"\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u524d\uff08Production - Pre-Commercial\uff09","text":"<p>\u5546\u7528\u5229\u7528\u524d\u306f\u3001\u30b3\u30b9\u30d1\u3092\u91cd\u8996\u3057\u305f\u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9\u3092\u6d3b\u7528\u3057\u3001\u5b9f\u969b\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p>\u4e3b\u8981\u30b5\u30fc\u30d3\u30b9:</p> <ul> <li>Web: Vercel\uff08Next.js\u6700\u9069\u5316\u3001CDN\u3001\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4\uff09</li> <li>API: Render\uff08NestJS\u3001\u81ea\u52d5\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\uff09</li> <li>PostgreSQL: Supabase\uff08\u7121\u6599\u67a0\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u81ea\u52d5\u5316\uff09</li> <li>MongoDB: MongoDB Atlas\uff08\u7121\u6599\u67a0\u3001\u30af\u30e9\u30b9\u30bf\u30fc\u7ba1\u7406\uff09</li> </ul> <p>\u7528\u9014:</p> <ul> <li>\u5b9f\u969b\u306e\u30e6\u30fc\u30b6\u30fc\u3078\u306e\u30b5\u30fc\u30d3\u30b9\u63d0\u4f9b</li> <li>\u521d\u671f\u30e6\u30fc\u30b6\u30fc\u7372\u5f97\u30fb\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u53ce\u96c6</li> <li>\u30b3\u30b9\u30c8\u91cd\u8996\uff08\u6700\u5c0f$0\u301c$68/\u6708\uff09</li> </ul> <p>\u5236\u9650\u4e8b\u9805:</p> <ul> <li>Vercel Hobby\u30d7\u30e9\u30f3\u306f\u5546\u7528\u5229\u7528\u4e0d\u53ef\u306e\u305f\u3081\u3001Pro\u30d7\u30e9\u30f3\u4ee5\u4e0a\u304c\u5fc5\u8981\uff08$20/\u6708\u301c\uff09</li> <li>\u7121\u6599\u67a0\u3092\u8d85\u3048\u305f\u5834\u5408\u306f\u6709\u6599\u30d7\u30e9\u30f3\u3078\u306e\u79fb\u884c\u304c\u5fc5\u8981</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_production-commercial","title":"\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u5f8c\uff08Production - Commercial\uff09","text":"<p>\u5546\u7528\u5229\u7528\u958b\u59cb\u5f8c\u306f\u3001AWS\u4e0a\u306b\u30d5\u30eb\u30b9\u30bf\u30c3\u30af\u3067\u69cb\u7bc9\u3057\u3001\u9ad8\u53ef\u7528\u6027\u30fb\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002</p> <p>\u4e3b\u8981\u30b5\u30fc\u30d3\u30b9:</p> <ul> <li>IaC: Terraform + Terragrunt</li> <li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0: ECS on Fargate</li> <li>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af: VPC\u3001ALB\u3001CloudFront</li> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9: Aurora PostgreSQL Serverless v2\u3001MongoDB Atlas</li> <li>\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0: CloudWatch\u3001Datadog\u3001Sentry</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3: WAF\u3001IAM\u3001Security Group</li> </ul> <p>\u7528\u9014:</p> <ul> <li>\u5546\u7528\u30b5\u30fc\u30d3\u30b9\u63d0\u4f9b</li> <li>24\u6642\u9593365\u65e5\u7a3c\u50cd</li> <li>\u9ad8\u53ef\u7528\u6027\u30fb\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u91cd\u8996\uff08$320\u301c373/\u6708\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_4","title":"\u30a4\u30f3\u30d5\u30e9\u7ba1\u7406\u65b9\u91dd","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#infrastructure-as-codeiac","title":"Infrastructure as Code\uff08IaC\uff09","text":"<ul> <li>\u30c4\u30fc\u30eb: Terraform + Terragrunt</li> <li>\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406: Git</li> <li>\u74b0\u5883\u5206\u96e2: staging / production</li> <li>\u30e2\u30b8\u30e5\u30fc\u30eb\u5316: network / security / compute / database / storage / monitoring</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_5","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":"<ul> <li>\u6700\u5c0f\u6a29\u9650\u306e\u539f\u5247: IAM\u30ed\u30fc\u30eb\u30fb\u30dd\u30ea\u30b7\u30fc\u306b\u3088\u308b\u53b3\u683c\u306a\u6a29\u9650\u7ba1\u7406</li> <li>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5206\u96e2: VPC\u3001Public/Private Subnet\u3001Security Group</li> <li>\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u7ba1\u7406: AWS SSM Parameter Store\uff08\u6697\u53f7\u5316\uff09</li> <li>Web\u4fdd\u8b77: WAF\uff08SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3001XSS\u5bfe\u7b56\uff09</li> <li>\u901a\u4fe1\u6697\u53f7\u5316: HTTPS/TLS\u3001VPC Endpoint</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_6","title":"\u30b3\u30b9\u30c8\u6700\u9069\u5316","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_7","title":"\u691c\u8a3c\u74b0\u5883","text":"<ul> <li>\u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9\u306e\u7121\u6599\u67a0\u3092\u6700\u5927\u9650\u6d3b\u7528</li> <li>\u5f93\u91cf\u8ab2\u91d1\u5236\u3067\u5229\u7528\u91cf\u306b\u5fdc\u3058\u305f\u67d4\u8edf\u306a\u30b3\u30b9\u30c8\u7ba1\u7406</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_8","title":"\u672c\u756a\u74b0\u5883","text":"<ul> <li>Fargate Spot: \u672c\u756a\u8ca0\u8377\u306b\u5fdc\u3058\u305f\u30b9\u30dd\u30c3\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6d3b\u7528\uff08\u5c06\u6765\uff09</li> <li>Aurora Serverless v2: \u81ea\u52d5\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306b\u3088\u308b\u6700\u9069\u5316</li> <li>VPC Endpoint: NAT Gateway\u6599\u91d1\u524a\u6e1b</li> <li>\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0: \u591c\u9593\u30fb\u4f11\u65e5\u306e\u30bf\u30b9\u30af\u53f0\u6570\u81ea\u52d5\u524a\u6e1b</li> <li>CloudWatch Logs: \u30ed\u30b0\u4fdd\u6301\u671f\u9593\u306e\u6700\u9069\u5316</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_9","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u30fb\u30ed\u30ae\u30f3\u30b0","text":"<ul> <li>APM: Datadog\uff08\u30e1\u30c8\u30ea\u30af\u30b9\u3001\u30c8\u30ec\u30fc\u30b9\u3001\u30ed\u30b0\u7d71\u5408\uff09</li> <li>\u30a8\u30e9\u30fc\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0: Sentry\uff08\u30a8\u30e9\u30fc\u691c\u77e5\u3001\u30a2\u30e9\u30fc\u30c8\uff09</li> <li>\u30ed\u30b0\u7ba1\u7406: CloudWatch Logs\uff08\u672c\u756a\uff09\u3001\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u30ed\u30b0\u6a5f\u80fd\uff08\u691c\u8a3c\uff09</li> <li>\u30a2\u30af\u30bb\u30b9\u30ed\u30b0: ALB\u3001CloudFront</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_10","title":"\u79fb\u884c\u6226\u7565","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_11","title":"\u691c\u8a3c\u74b0\u5883\u3067\u306e\u6700\u7d42\u78ba\u8a8d","text":"<p>\u691c\u8a3c\u74b0\u5883\uff08AWS Staging\uff09\u3067\u672c\u756a\u30ea\u30ea\u30fc\u30b9\u524d\u306e\u6700\u7d42\u78ba\u8a8d\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002</p> <ol> <li>\u691c\u8a3c\u74b0\u5883\u69cb\u7bc9: Terraform\u306b\u3088\u308b\u4e00\u62ec\u69cb\u7bc9</li> <li>\u30c7\u30d7\u30ed\u30a4: GitHub Actions\u306b\u3088\u308bCI/CD</li> <li>\u691c\u8a3c: \u8ca0\u8377\u30c6\u30b9\u30c8\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8\u3001E2E\u30c6\u30b9\u30c8</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_","title":"\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u524d\uff08\u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9\uff09","text":"<p>\u691c\u8a3c\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u307e\u305a\u306f\u30b3\u30b9\u30d1\u91cd\u8996\u306e\u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9\u3067\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002</p> <ol> <li>\u672c\u756a\u74b0\u5883\u69cb\u7bc9: Vercel\u3001Render\u3001Supabase\u3001MongoDB Atlas\u306e\u8a2d\u5b9a</li> <li>\u30c7\u30d7\u30ed\u30a4: Git\u9023\u643a\u306b\u3088\u308b\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4</li> <li>\u521d\u671f\u30e6\u30fc\u30b6\u30fc\u7372\u5f97: \u5b9f\u969b\u306e\u30e6\u30fc\u30b6\u30fc\u3078\u306e\u30b5\u30fc\u30d3\u30b9\u63d0\u4f9b\u958b\u59cb</li> <li>\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u53ce\u96c6: \u30e6\u30fc\u30b6\u30fc\u304b\u3089\u306e\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u3092\u57fa\u306b\u6539\u5584</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_aws","title":"\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u5f8c\uff08AWS\uff09\u3078\u306e\u79fb\u884c","text":"<p>\u5546\u7528\u5229\u7528\u3092\u672c\u683c\u5316\u3059\u308b\u969b\u306f\u3001AWS\u74b0\u5883\u3078\u79fb\u884c\u3057\u307e\u3059\u3002</p> <ol> <li>\u672c\u756a\u74b0\u5883\u69cb\u7bc9: Terraform\u306b\u3088\u308b\u4e00\u62ec\u69cb\u7bc9</li> <li>\u30c7\u30fc\u30bf\u79fb\u884c:</li> <li>Supabase \u2192 Aurora PostgreSQL</li> <li>MongoDB Atlas\uff08\u5546\u7528\u5229\u7528\u524d\uff09 \u2192 MongoDB Atlas\uff08\u5546\u7528\u5229\u7528\u5f8c\uff09</li> <li>DNS\u5207\u308a\u66ff\u3048: Route53\u306b\u3088\u308b\u6bb5\u968e\u7684\u306a\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u79fb\u884c</li> <li>\u691c\u8a3c\u671f\u9593: \u30ab\u30ca\u30ea\u30a2\u30ea\u30ea\u30fc\u30b9\u3001A/B\u30c6\u30b9\u30c8</li> <li>\u5b8c\u5168\u79fb\u884c: \u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9\u306e\u7e2e\u5c0f\u3001\u691c\u8a3c\u74b0\u5883\u306f\u7dad\u6301</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_12","title":"\u74b0\u5883\u6bd4\u8f03\u8868","text":"\u9805\u76ee \u691c\u8a3c\u74b0\u5883 \u672c\u756a_\u5546\u7528\u5229\u7528\u524d \u672c\u756a_\u5546\u7528\u5229\u7528\u5f8c \u30db\u30b9\u30c6\u30a3\u30f3\u30b0 AWS ECS Vercel/Render AWS ECS DB\uff08PostgreSQL\uff09 RDS PostgreSQL Supabase Aurora Serverless v2 DB\uff08MongoDB\uff09 MongoDB Atlas (M0/M10) MongoDB Atlas (M0) MongoDB Atlas (M10\u301c) CDN - Vercel Edge CloudFront WAF - - WAF \u30e2\u30cb\u30bf\u30ea\u30f3\u30b0 CloudWatch, Sentry \u5404\u30b5\u30fc\u30d3\u30b9\u6a19\u6e96 CloudWatch, Datadog, Sentry \u7a3c\u50cd\u6642\u9593 \u55b6\u696d\u6642\u9593\u306e\u307f 24\u6642\u9593 24\u6642\u9593365\u65e5 \u6708\u984d\u30b3\u30b9\u30c8 $60\u301c70 $0\u301c68 $320\u301c373 \u7528\u9014 \u691c\u8a3c\u30fb\u30c6\u30b9\u30c8 \u521d\u671f\u30e6\u30fc\u30b6\u30fc\u7372\u5f97 \u5546\u7528\u30b5\u30fc\u30d3\u30b9"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/01-overview/#_13","title":"\u53c2\u8003\u8cc7\u6599","text":"<ul> <li>\u691c\u8a3c\u74b0\u5883</li> <li>\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u524d</li> <li>\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u5f8c</li> <li>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3</li> <li>\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/","title":"\u691c\u8a3c\u74b0\u5883\u8a2d\u8a08\uff08Staging\uff09","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_1","title":"\u6982\u8981","text":"<p>\u691c\u8a3c\u74b0\u5883\u306f\u3001\u672c\u756a\u74b0\u5883\u306b\u8fd1\u3044AWS\u69cb\u6210\u3092\u30b3\u30b9\u30c8\u3092\u6291\u3048\u3066\u69cb\u7bc9\u3057\u3001\u672c\u756a\u30ea\u30ea\u30fc\u30b9\u524d\u306e\u6700\u7d42\u691c\u8a3c\u3092\u3057\u307e\u3059\u3002\u73fe\u5728\u306eTerraform staging\u74b0\u5883\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_2","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3","text":"<pre><code>graph TD\n    User[\u30e6\u30fc\u30b6\u30fc&lt;br&gt;\u56fa\u5b9aIP\u306e\u307f\u8a31\u53ef]\n    Dev[\u958b\u767a\u8005&lt;br&gt;SSM Session Manager]\n\n    subgraph \"AWS (ap-northeast-1)\"\n        subgraph VPC[\"VPC (10.0.0.0/16)\"]\n            subgraph PublicSubnet[\"Public Subnet\"]\n                ALB[ALB&lt;br&gt;\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc&lt;br&gt;IP\u5236\u9650\u3042\u308a]\n                ECS_Web[ECS Fargate&lt;br&gt;Next.js SSR&lt;br&gt;0.25 vCPU / 512 MB]\n                ECS_API[ECS Fargate&lt;br&gt;NestJS API&lt;br&gt;0.25 vCPU / 512 MB]\n                Bastion[EC2 Bastion&lt;br&gt;t3.nano&lt;br&gt;DB\u63a5\u7d9a\u7528]\n            end\n\n            subgraph PrivateSubnet[\"Private Subnet\"]\n                RDS[(RDS PostgreSQL&lt;br&gt;db.t4g.micro&lt;br&gt;Graviton2)]\n                VPCE[VPC Endpoints&lt;br&gt;ECR API/DKR&lt;br&gt;S3 Gateway]\n            end\n        end\n\n        Lambda[Lambda&lt;br&gt;ECS Scheduler&lt;br&gt;\u81ea\u52d5\u505c\u6b62/\u8d77\u52d5]\n        EB[EventBridge&lt;br&gt;cron: \u6708-\u91d1 9-22\u6642]\n        ECR[ECR&lt;br&gt;\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea]\n        S3[S3&lt;br&gt;\u9759\u7684\u30a2\u30bb\u30c3\u30c8]\n        CW[CloudWatch Logs&lt;br&gt;7\u65e5\u4fdd\u5b58]\n        SSM[SSM Parameter Store&lt;br&gt;DB\u63a5\u7d9a\u60c5\u5831\u7b49]\n    end\n\n    subgraph \"External Services\"\n        Atlas[MongoDB Atlas&lt;br&gt;M0/M10]\n        SN[Sentry&lt;br&gt;\u30a8\u30e9\u30fc\u76e3\u8996]\n    end\n\n    User --&gt;|HTTPS| ALB\n    Dev --&gt;|SSM Session| Bastion\n    ALB --&gt; ECS_Web\n    ALB --&gt; ECS_API\n    ECS_Web --&gt; RDS\n    ECS_API --&gt; RDS\n    ECS_API --&gt; Atlas\n    Bastion --&gt; RDS\n    ECS_Web --&gt; VPCE\n    ECS_API --&gt; VPCE\n    ECS_Web --&gt; CW\n    ECS_API --&gt; CW\n    ECS_Web --&gt; SSM\n    ECS_API --&gt; SSM\n\n    EB --&gt;|\u8d77\u52d5: 9:00 JST| Lambda\n    EB --&gt;|\u505c\u6b62: 22:00 JST| Lambda\n    Lambda --&gt;|UpdateService| ECS_Web\n    Lambda --&gt;|UpdateService| ECS_API\n\n    ECS_Web --&gt; SN\n    ECS_API --&gt; SN\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_3","title":"\u30b5\u30fc\u30d3\u30b9\u69cb\u6210","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#-ecs-on-fargate","title":"\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0 - ECS on Fargate","text":"<p>\u69cb\u6210:</p> <ul> <li>\u30af\u30e9\u30b9\u30bf\u30fc: bookmark-manager-staging-cluster</li> <li>\u30bf\u30b9\u30af\u5b9a\u7fa9:</li> <li>Web: 0.25 vCPU / 512 MB</li> <li>API: 0.25 vCPU / 512 MB</li> </ul> <p>\u30b3\u30b9\u30c8\u6700\u9069\u5316:</p> <ul> <li>NAT Gateway\u524a\u9664\uff08ECS\u30bf\u30b9\u30af\u3092Public Subnet\u306b\u914d\u7f6e\uff09</li> <li>VPC Endpoint\u4f7f\u7528\uff08ECR\u3001S3\u3078\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a2\u30af\u30bb\u30b9\uff09</li> <li>\u81ea\u52d5\u505c\u6b62/\u8d77\u52d5\uff08\u55b6\u696d\u6642\u9593\u306e\u307f\u7a3c\u50cd: \u6708\u301c\u91d1 9:00-22:00\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#-rds-postgresql","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 - RDS PostgreSQL","text":"<p>\u69cb\u6210:</p> <ul> <li>\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7: db.t4g.micro\uff08Graviton2\uff09</li> <li>\u30b9\u30c8\u30ec\u30fc\u30b8: 20GB\uff08\u6c4e\u7528SSD\uff09</li> <li>\u7a3c\u50cd\u6642\u9593: 24\u6642\u9593365\u65e5</li> </ul> <p>\u7279\u5fb4:</p> <ul> <li>Aurora Serverless v2\u3068\u6bd4\u8f03\u3057\u306665\uff05\u306e\u30b3\u30b9\u30c8\u524a\u6e1b</li> <li>\u691c\u8a3c\u74b0\u5883\u306b\u306f\u5341\u5206\u306a\u6027\u80fd</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#-vpc","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af - VPC","text":"<p>\u69cb\u6210:</p> <ul> <li>CIDR: 10.0.0.0/16</li> <li>Public Subnet: ECS\u30bf\u30b9\u30af\u3001ALB\u3001Bastion\u914d\u7f6e</li> <li>Private Subnet: RDS PostgreSQL\u914d\u7f6e</li> <li>NAT Gateway: \u524a\u9664\uff08$32/\u6708\u306e\u30b3\u30b9\u30c8\u524a\u6e1b\uff09</li> </ul> <p>VPC Endpoint:</p> <ul> <li>ECR API\uff08Interface\u578b: $7.2/\u6708\uff09</li> <li>ECR DKR\uff08Interface\u578b: $7.2/\u6708\uff09</li> <li>S3\uff08Gateway\u578b: \u7121\u6599\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#ecs-scheduler","title":"\u81ea\u52d5\u505c\u6b62/\u8d77\u52d5\uff08ECS Scheduler\uff09","text":"<p>\u4ed5\u7d44\u307f:</p> <ul> <li>EventBridge + Lambda \u306b\u3088\u308b\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u30fc</li> <li>\u6708\u301c\u91d1 9:00-22:00 JST \u306e\u307f\u7a3c\u50cd</li> <li>\u571f\u65e5\u30fb\u55b6\u696d\u6642\u9593\u5916\u306f\u81ea\u52d5\u505c\u6b62\uff08desired_count = 0\uff09</li> </ul> <p>\u524a\u6e1b\u52b9\u679c:</p> <ul> <li>ECS\u7a3c\u50cd\u6642\u9593 65\uff05\u524a\u6e1b</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_4","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0","text":"<p>CloudWatch:</p> <ul> <li>\u30ed\u30b0\u4fdd\u5b58: 7\u65e5\u9593</li> <li>\u30e1\u30c8\u30ea\u30af\u30b9\u53ce\u96c6: ECS\u3001RDS\u3001ALB</li> </ul> <p>Sentry\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09:</p> <ul> <li>\u30a8\u30e9\u30fc\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\uff08\u7121\u6599\u67a0: \u6708\u95935,000\u30a4\u30d9\u30f3\u30c8\uff09</li> </ul> <p>Datadog\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09:</p> <ul> <li>APM\u3001\u30e1\u30c8\u30ea\u30af\u30b9\u3001\u30ed\u30b0\u7d71\u5408\uff08$25.8/\u6708\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_5","title":"\u30c7\u30d7\u30ed\u30a4\u30d5\u30ed\u30fc","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#cicdgithub-actions","title":"CI/CD\uff08GitHub Actions\uff09","text":"<pre><code>graph LR\n    A[Git\u30d7\u30c3\u30b7\u30e5] --&gt; B[GitHub Actions]\n    B --&gt; C[\u30d3\u30eb\u30c9\u30fb\u30c6\u30b9\u30c8]\n    C --&gt; D[Docker\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9]\n    D --&gt; E[ECR\u30d7\u30c3\u30b7\u30e5]\n    E --&gt; F[ECS\u30b5\u30fc\u30d3\u30b9\u66f4\u65b0]\n    F --&gt; G[\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af]\n</code></pre> <p>\u4e3b\u306a\u624b\u9806:</p> <ol> <li>feature \u30d6\u30e9\u30f3\u30c1\u3078\u30d7\u30c3\u30b7\u30e5 \u2192 \u30d3\u30eb\u30c9\u30fb\u30c6\u30b9\u30c8</li> <li>main \u30d6\u30e9\u30f3\u30c1\u3078\u30de\u30fc\u30b8 \u2192 ECR\u30d7\u30c3\u30b7\u30e5</li> <li>ECS\u30b5\u30fc\u30d3\u30b9\u81ea\u52d5\u66f4\u65b0</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_6","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_7","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":"<p>Security Group:</p> <ul> <li>ALB: \u56fa\u5b9aIP\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u307f\u8a31\u53ef</li> <li>ECS: ALB\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u307f\u8a31\u53ef</li> <li>RDS: ECS\u3068Bastion\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u307f\u8a31\u53ef</li> </ul> <p>Bastion EC2:</p> <ul> <li>SSM \u30bb\u30c3\u30b7\u30e7\u30f3 Manager\u7d4c\u7531\u3067\u306e\u307f\u30a2\u30af\u30bb\u30b9\u53ef\u80fd</li> <li>RDS\u3078\u306e\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u7528</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_8","title":"\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u7ba1\u7406","text":"<p>SSM Parameter Store:</p> <ul> <li>DATABASE_URL</li> <li>MONGODB_URI</li> <li>\u305d\u306e\u4ed6\u306e\u74b0\u5883\u5909\u6570</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_9","title":"\u30b3\u30b9\u30c8\u8a66\u7b97","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_10","title":"\u6708\u984d\u30b3\u30b9\u30c8\uff08\u55b6\u696d\u6642\u9593\u306e\u307f\u7a3c\u50cd\uff09","text":"\u30b5\u30fc\u30d3\u30b9 \u6708\u984d RDS PostgreSQL (db.t4g.micro) $11.5 EC2 Bastion (t3.nano) $3.7 ECS Fargate (Web) $7.5 ECS Fargate (API) $7.5 ALB $17.4 VPC Endpoint (Interface \u00d7 2) $14.4 Lambda (ECS Scheduler) $0.05\u672a\u6e80 S3 $1-5 CloudWatch Logs $5-10 \u305d\u306e\u4ed6 $1-5 \u5408\u8a08 $60\u301c70"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_11","title":"\u30b3\u30b9\u30c8\u524a\u6e1b\u65bd\u7b56","text":"\u65bd\u7b56 \u524a\u6e1b\u52b9\u679c ECS\u81ea\u52d5\u505c\u6b62/\u8d77\u52d5 ECS\u7a3c\u50cd\u6642\u9593 65\uff05\u524a\u6e1b Aurora \u2192 RDS \u6708\u984d $28\u524a\u6e1b\uff0865\uff05\u524a\u6e1b\uff09 NAT Gateway\u524a\u9664 \u6708\u984d $32\u524a\u6e1b VPC Endpoint\u4f7f\u7528 \u30c7\u30fc\u30bf\u8ee2\u9001\u6599 \u6708\u984d$400-500\u524a\u6e1b CloudWatch Logs 7\u65e5\u4fdd\u5b58 \u6708\u984d $5-10\u524a\u6e1b \u5408\u8a08\u524a\u6e1b\u52b9\u679c \u6708\u984d $75-145\u524a\u6e1b\uff0865\uff05\u524a\u6e1b\uff09"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_12","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#rds-postgresql","title":"RDS PostgreSQL","text":"<ul> <li>\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7: 7\u65e5\u9593\u4fdd\u6301</li> <li>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8: \u624b\u52d5\u53d6\u5f97\u53ef\u80fd</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#mongodb-atlas","title":"MongoDB Atlas","text":"<ul> <li>\u81ea\u52d5\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\uff08M10\u4ee5\u4e0a\uff09</li> <li>\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_13","title":"\u904b\u7528","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_14","title":"\u30ed\u30b0\u78ba\u8a8d","text":"<pre><code># Web\u30b5\u30fc\u30d3\u30b9\u306e\u30ed\u30b0\naws logs tail /ecs/bookmark-manager-staging-web --follow\n\n# API\u30b5\u30fc\u30d3\u30b9\u306e\u30ed\u30b0\naws logs tail /ecs/bookmark-manager-staging-api --follow\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#ecs","title":"ECS\u30bf\u30b9\u30af\u78ba\u8a8d","text":"<pre><code>aws ecs list-tasks --cluster bookmark-manager-staging-cluster\naws ecs describe-tasks \\\n  --cluster bookmark-manager-staging-cluster \\\n  --tasks &lt;task-arn&gt;\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_15","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a","text":"<pre><code># SSM\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u7d4c\u7531\n./scripts/connect_to_awsdb.sh staging 5432\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/02-staging/#_16","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>AWS ECS Documentation</li> <li>RDS PostgreSQL Documentation</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/","title":"\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u524d\u8a2d\u8a08\uff08Production - Pre-Commercial\uff09","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_1","title":"\u6982\u8981","text":"<p>\u5546\u7528\u5229\u7528\u524d\u306f\u3001\u30b3\u30b9\u30d1\u3092\u91cd\u8996\u3057\u305f\u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9\u3092\u6d3b\u7528\u3057\u3001\u5b9f\u969b\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u5404\u7a2e\u5229\u7528\u898f\u7d04\u306b\u6e96\u62e0\u3057\u3064\u3064\u3001\u4f4e\u30b3\u30b9\u30c8\u3067\u904b\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_2","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3","text":"<pre><code>graph TD\n    U[\u30e6\u30fc\u30b6\u30fc]\n\n    subgraph \"Vercel\"\n        VWeb[Next.js Web&lt;br&gt;SSR + SPA]\n    end\n\n    subgraph \"Render\"\n        RAPI[NestJS API&lt;br&gt;Web Service]\n    end\n\n    subgraph \"Supabase\"\n        SPG[PostgreSQL&lt;br&gt;\u30e1\u30a4\u30f3DB]\n    end\n\n    subgraph \"MongoDB Atlas\"\n        MA[MongoDB&lt;br&gt;\u30ed\u30b0DB]\n    end\n\n    subgraph \"External Services\"\n        DD[Datadog&lt;br&gt;\u76e3\u8996]\n        SN[Sentry&lt;br&gt;\u30a8\u30e9\u30fc\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0]\n    end\n\n    U --&gt; VWeb\n    VWeb --&gt; RAPI\n    RAPI --&gt; SPG\n    RAPI --&gt; MA\n\n    VWeb --&gt; DD\n    RAPI --&gt; DD\n    VWeb --&gt; SN\n    RAPI --&gt; SN\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_3","title":"\u30b5\u30fc\u30d3\u30b9\u69cb\u6210","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#web-vercel","title":"Web - Vercel","text":"<p>\u9078\u5b9a\u7406\u7531:</p> <ul> <li>Next.js\u6700\u9069\u5316\u6e08\u307f\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0</li> <li>\u81ea\u52d5CDN\u914d\u4fe1</li> <li>Git\u9023\u643a\u306b\u3088\u308b\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4</li> <li>\u7121\u6599\u67a0\u3067\u5341\u5206\u306a\u6027\u80fd</li> </ul> <p>\u4e3b\u8981\u6a5f\u80fd:</p> <ul> <li>SSR\uff08Server-Side Rendering\uff09</li> <li>\u9759\u7684\u30a2\u30bb\u30c3\u30c8\u914d\u4fe1</li> <li>\u30d7\u30ec\u30d3\u30e5\u30fc\u30c7\u30d7\u30ed\u30a4</li> <li>\u74b0\u5883\u5909\u6570\u7ba1\u7406</li> <li>\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u5bfe\u5fdc</li> </ul> <p>\u6599\u91d1:</p> <ul> <li>Hobby \u30d7\u30e9\u30f3: $0/\u6708</li> <li>\u5546\u7528\u5229\u7528\u4e0d\u53ef</li> <li>100GB \u5e2f\u57df\u5e45</li> <li>Serverless Function\u5b9f\u884c\u6642\u9593: 100\u6642\u9593/\u6708</li> <li>Pro \u30d7\u30e9\u30f3: $20/\u6708\uff08\u5546\u7528\u53ef\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#api-render","title":"API - Render","text":"<p>\u9078\u5b9a\u7406\u7531:</p> <ul> <li>NestJS\u7b49\u306eNode.js\u30a2\u30d7\u30ea\u5bfe\u5fdc</li> <li>\u81ea\u52d5\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0</li> <li>Git\u9023\u643a\u306b\u3088\u308b\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4</li> <li>\u7121\u6599\u67a0\u3042\u308a</li> </ul> <p>\u4e3b\u8981\u6a5f\u80fd:</p> <ul> <li>Docker\u30b3\u30f3\u30c6\u30ca\u30c7\u30d7\u30ed\u30a4</li> <li>\u81ea\u52d5\u30b9\u30ea\u30fc\u30d7\uff08\u7121\u6599\u30d7\u30e9\u30f3\uff09</li> <li>\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u5bfe\u5fdc</li> <li>\u74b0\u5883\u5909\u6570\u7ba1\u7406</li> <li>\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af</li> <li>\u81ea\u52d5HTTPS</li> </ul> <p>\u6599\u91d1:</p> <ul> <li>Free \u30d7\u30e9\u30f3: $0/\u6708</li> <li>750\u6642\u9593/\u6708</li> <li>15\u5206\u7121\u901a\u4fe1\u3067\u30b9\u30ea\u30fc\u30d7</li> <li>512MB RAM</li> <li>Starter \u30d7\u30e9\u30f3: $7/\u6708</li> <li>\u30b9\u30ea\u30fc\u30d7\u306a\u3057</li> <li>512MB RAM</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#postgresql-supabase","title":"PostgreSQL - Supabase","text":"<p>\u9078\u5b9a\u7406\u7531:</p> <ul> <li>PostgreSQL\u5b8c\u5168\u4e92\u63db</li> <li>\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7</li> <li>\u7ba1\u7406\u753b\u9762\uff08\u30c6\u30fc\u30d6\u30eb\u7ba1\u7406\u3001SQL\u5b9f\u884c\uff09</li> <li>\u7121\u6599\u67a0\u3067\u5341\u5206\u306a\u5bb9\u91cf</li> </ul> <p>\u4e3b\u8981\u6a5f\u80fd:</p> <ul> <li>PostgreSQL 17\u5bfe\u5fdc</li> <li>\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\uff08\u65e5\u6b21\uff09</li> <li>Row Level Security\uff08RLS\uff09</li> <li>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3</li> <li>REST API\u81ea\u52d5\u751f\u6210\uff08\u672a\u4f7f\u7528\uff09</li> </ul> <p>\u6599\u91d1:</p> <ul> <li>Free \u30d7\u30e9\u30f3: $0/\u6708</li> <li>500MB \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5bb9\u91cf</li> <li>1GB \u30d5\u30a1\u30a4\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8</li> <li>2GB\u30c7\u30fc\u30bf\u8ee2\u9001/\u6708</li> <li>7\u65e5\u9593\u306e\u30ed\u30b0\u4fdd\u6301</li> <li>Pro \u30d7\u30e9\u30f3: $25/\u6708</li> <li>8GB \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5bb9\u91cf</li> <li>100GB \u30d5\u30a1\u30a4\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8</li> <li>50GB \u30c7\u30fc\u30bf\u8ee2\u9001/\u6708</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#mongodb-mongodb-atlas","title":"MongoDB - MongoDB Atlas","text":"<p>\u9078\u5b9a\u7406\u7531:</p> <ul> <li>MongoDB\u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9</li> <li>\u7121\u6599\u67a0\u3042\u308a</li> <li>\u30af\u30e9\u30b9\u30bf\u30fc\u7ba1\u7406\u304c\u5bb9\u6613</li> <li>\u672c\u756a\u74b0\u5883\u3067\u3082\u540c\u3058\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u53ef\u80fd</li> </ul> <p>\u4e3b\u8981\u6a5f\u80fd:</p> <ul> <li>MongoDB 8.0\u5bfe\u5fdc</li> <li>\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7</li> <li>\u30ec\u30d7\u30ea\u30ab\u30bb\u30c3\u30c8\u69cb\u6210</li> <li>\u76e3\u8996\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9</li> </ul> <p>\u6599\u91d1:</p> <ul> <li>M0\uff08Free\uff09\u30d7\u30e9\u30f3: $0/\u6708</li> <li>512MB \u30b9\u30c8\u30ec\u30fc\u30b8</li> <li>\u5171\u6709RAM</li> <li>\u5171\u6709vCPU</li> <li>M10 \u30d7\u30e9\u30f3: $57/\u6708\u301c</li> <li>10GB \u30b9\u30c8\u30ec\u30fc\u30b8</li> <li>2GB RAM</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_4","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#datadog","title":"Datadog","text":"<ul> <li>\u30e1\u30c8\u30ea\u30af\u30b9\u53ce\u96c6</li> <li>APM\uff08Application Performance Monitoring\uff09</li> <li>\u30ed\u30b0\u96c6\u7d04</li> <li>\u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a</li> </ul> <p>\u6599\u91d1:</p> <ul> <li>Free \u30d7\u30e9\u30f3: $0/\u6708\uff081\u30db\u30b9\u30c8\u307e\u3067\uff09</li> <li>Pro \u30d7\u30e9\u30f3: $15/\u30db\u30b9\u30c8/\u6708</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#sentry","title":"Sentry","text":"<ul> <li>\u30a8\u30e9\u30fc\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0</li> <li>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996</li> <li>\u30a2\u30e9\u30fc\u30c8\u901a\u77e5</li> <li>\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9</li> </ul> <p>\u6599\u91d1:</p> <ul> <li>Developer \u30d7\u30e9\u30f3: $0/\u6708</li> <li>5,000 \u30a4\u30d9\u30f3\u30c8/\u6708</li> <li>1\u30e6\u30fc\u30b6\u30fc</li> <li>Team \u30d7\u30e9\u30f3: $26/\u6708</li> <li>50,000 \u30a4\u30d9\u30f3\u30c8/\u6708</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_5","title":"\u30c7\u30d7\u30ed\u30a4\u30d5\u30ed\u30fc","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#webvercel","title":"Web\uff08Vercel\uff09","text":"<pre><code>graph LR\n    A[Git\u30d7\u30c3\u30b7\u30e5] --&gt; B[Vercel\u81ea\u52d5\u30d3\u30eb\u30c9]\n    B --&gt; C[\u30d7\u30ec\u30d3\u30e5\u30fc\u30c7\u30d7\u30ed\u30a4]\n    C --&gt; D[main\u30de\u30fc\u30b8]\n    D --&gt; E[\u672c\u756a\u30c7\u30d7\u30ed\u30a4]\n</code></pre> <ol> <li>feature \u30d6\u30e9\u30f3\u30c1\u3078\u30d7\u30c3\u30b7\u30e5 \u2192 \u30d7\u30ec\u30d3\u30e5\u30fc\u30c7\u30d7\u30ed\u30a4\u751f\u6210</li> <li>main \u30d6\u30e9\u30f3\u30c1\u3078\u30de\u30fc\u30b8 \u2192 \u81ea\u52d5\u672c\u756a\u30c7\u30d7\u30ed\u30a4</li> <li>\u74b0\u5883\u5909\u6570\u306f Vercel \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u7ba1\u7406</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#apirender","title":"API\uff08Render\uff09","text":"<pre><code>graph LR\n    A[Git\u30d7\u30c3\u30b7\u30e5] --&gt; B[Render\u81ea\u52d5\u30d3\u30eb\u30c9]\n    B --&gt; C[Docker\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9]\n    C --&gt; D[\u30c7\u30d7\u30ed\u30a4]\n    D --&gt; E[\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af]\n</code></pre> <ol> <li>main \u30d6\u30e9\u30f3\u30c1\u3078\u30d7\u30c3\u30b7\u30e5 \u2192 \u81ea\u52d5\u30c7\u30d7\u30ed\u30a4</li> <li>render.yaml \u3067\u30d3\u30eb\u30c9\u8a2d\u5b9a\u7ba1\u7406</li> <li>\u74b0\u5883\u5909\u6570\u306f Render \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u7ba1\u7406</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_6","title":"\u74b0\u5883\u5909\u6570\u7ba1\u7406","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#vercel","title":"Vercel","text":"<pre><code># Vercel CLI\nvercel env add &lt;KEY&gt; &lt;VALUE&gt; --environment production\n\n# \u4e3b\u8981\u306a\u74b0\u5883\u5909\u6570\nNEXT_PUBLIC_API_URL=https://api.example.com\nSENTRY_DSN=https://...\nDATADOG_API_KEY=...\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#render","title":"Render","text":"<pre><code># render.yaml\nenv:\n  - key: DATABASE_URL\n    sync: false  # \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u8a2d\u5b9a\n  - key: MONGODB_URI\n    sync: false\n  - key: NODE_ENV\n    value: production\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#supabase","title":"Supabase","text":"<ul> <li>Connection String: Supabase\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u304b\u3089\u53d6\u5f97</li> <li>\u74b0\u5883\u5909\u6570\u3068\u3057\u3066Render\u3078\u8a2d\u5b9a</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#mongodb-atlas","title":"MongoDB Atlas","text":"<ul> <li>Connection String: Atlas\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u304b\u3089\u53d6\u5f97</li> <li>\u74b0\u5883\u5909\u6570\u3068\u3057\u3066Render\u3078\u8a2d\u5b9a</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_7","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_8","title":"\u8a8d\u8a3c\u30fb\u8a8d\u53ef","text":"<ul> <li>Supabase Auth\uff08\u691c\u8a0e\u4e2d\uff09</li> <li>JWT \u30c8\u30fc\u30af\u30f3\u8a8d\u8a3c</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#httpstls","title":"HTTPS/TLS","text":"<ul> <li>Vercel: \u81ea\u52d5HTTPS</li> <li>Render: \u81ea\u52d5HTTPS</li> <li>Supabase: \u5f37\u5236HTTPS</li> <li>MongoDB Atlas: TLS 1.2\u4ee5\u4e0a</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#ip","title":"IP\u30a2\u30af\u30bb\u30b9\u5236\u9650","text":"<ul> <li>MongoDB Atlas: IP\u30db\u30ef\u30a4\u30c8\u30ea\u30b9\u30c8\u8a2d\u5b9a</li> <li>Supabase: \u5168IP\u304b\u3089\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\uff08RLS\u63a8\u5968\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_9","title":"\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u7ba1\u7406","text":"<ul> <li>\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u74b0\u5883\u5909\u6570\u6a5f\u80fd\u3092\u4f7f\u7528</li> <li>GitHub Secrets\u306f\u4f7f\u7528\u3057\u306a\u3044\uff08\u76f4\u63a5\u30b5\u30fc\u30d3\u30b9\u3078\u8a2d\u5b9a\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_10","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#postgresqlsupabase","title":"PostgreSQL\uff08Supabase\uff09","text":"<ul> <li>\u81ea\u52d5\u65e5\u6b21\u30d0\u30c3\u30af\u30a2\u30c3\u30d7</li> <li>7\u65e5\u9593\u4fdd\u6301\uff08Free\u30d7\u30e9\u30f3\uff09</li> <li>Point-in-Time Recovery\uff08Pro\u30d7\u30e9\u30f3\u4ee5\u4e0a\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#mongodbatlas","title":"MongoDB\uff08Atlas\uff09","text":"<ul> <li>\u81ea\u52d5\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\uff08M10\u4ee5\u4e0a\uff09</li> <li>\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\uff08\u624b\u52d5\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_11","title":"\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u6226\u7565","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#vercel_1","title":"Vercel","text":"<ul> <li>\u81ea\u52d5\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0</li> <li>Edge Network \u306b\u3088\u308b\u5206\u6563\u914d\u4fe1</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#render_1","title":"Render","text":"<ul> <li>Free \u30d7\u30e9\u30f3: \u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306a\u3057</li> <li>Starter \u30d7\u30e9\u30f3\u4ee5\u4e0a: \u5782\u76f4\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\uff08\u624b\u52d5\uff09</li> <li>Standard \u30d7\u30e9\u30f3\u4ee5\u4e0a: \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u5bfe\u5fdc</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_12","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9","text":"<ul> <li>Supabase: \u30d7\u30e9\u30f3\u5909\u66f4\u306b\u3088\u308b\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7</li> <li>MongoDB Atlas: \u30af\u30e9\u30b9\u30bf\u30fc\u5c64\u5909\u66f4\u306b\u3088\u308b\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_13","title":"\u30b3\u30b9\u30c8\u8a66\u7b97","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_14","title":"\u6700\u5c0f\u69cb\u6210\uff08\u958b\u767a\u521d\u671f\uff09","text":"\u30b5\u30fc\u30d3\u30b9 \u30d7\u30e9\u30f3 \u6708\u984d Vercel Hobby $0 Render Free $0 Supabase Free $0 MongoDB Atlas M0 $0 Datadog Free $0 Sentry Developer $0 \u5408\u8a08 $0"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_15","title":"\u63a8\u5968\u69cb\u6210\uff08\u691c\u8a3c\u30d5\u30a7\u30fc\u30ba\uff09","text":"\u30b5\u30fc\u30d3\u30b9 \u30d7\u30e9\u30f3 \u6708\u984d Vercel Pro $20 Render Starter $7 Supabase Free $0 MongoDB Atlas M0 $0 Datadog Pro\uff081\u30db\u30b9\u30c8\uff09 $15 Sentry Team $26 \u5408\u8a08 $68"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_16","title":"\u5236\u9650\u4e8b\u9805","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#vercel-hobby","title":"Vercel Hobby \u30d7\u30e9\u30f3","text":"<ul> <li>\u5546\u7528\u5229\u7528\u4e0d\u53ef</li> <li>\u30c1\u30fc\u30e0\u6a5f\u80fd\u306a\u3057</li> <li>\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u5236\u9650</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#render-free","title":"Render Free \u30d7\u30e9\u30f3","text":"<ul> <li>15\u5206\u7121\u901a\u4fe1\u3067\u30b9\u30ea\u30fc\u30d7</li> <li>\u8d77\u52d5\u306b\u6570\u79d2\u301c\u6570\u5341\u79d2\u304b\u304b\u308b</li> <li>\u30e1\u30e2\u30ea512MB\u5236\u9650</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#supabase-free","title":"Supabase Free \u30d7\u30e9\u30f3","text":"<ul> <li>500MB\u5bb9\u91cf\u5236\u9650</li> <li>7\u65e5\u9593\u306e\u30ed\u30b0\u4fdd\u6301</li> <li>Point-in-Time Recovery \u306a\u3057</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#mongodb-atlas-m0","title":"MongoDB Atlas M0 \u30d7\u30e9\u30f3","text":"<ul> <li>512MB\u30b9\u30c8\u30ec\u30fc\u30b8\u5236\u9650</li> <li>\u5171\u6709\u30ea\u30bd\u30fc\u30b9\uff08\u6027\u80fd\u5236\u9650\uff09</li> <li>\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306a\u3057</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_17","title":"\u5546\u7528\u5229\u7528\u6642\u306e\u6ce8\u610f\u4e8b\u9805","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#vercel_2","title":"Vercel\u5229\u7528\u898f\u7d04","text":"<p>Hobby\u30d7\u30e9\u30f3\uff08$0/\u6708\uff09:</p> <ul> <li>\u500b\u4eba\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30fb\u975e\u5546\u7528\u5229\u7528\u306e\u307f</li> <li>\u5546\u7528\u5229\u7528\u306f\u5229\u7528\u898f\u7d04\u9055\u53cd</li> </ul> <p>\u5546\u7528\u5229\u7528\u3059\u308b\u5834\u5408:</p> <ul> <li>Pro\u30d7\u30e9\u30f3\u4ee5\u4e0a\u304c\u5fc5\u9808\uff08$20/\u6708\u301c\uff09</li> <li>\u5546\u7528\u5229\u7528\u3001\u30c1\u30fc\u30e0\u6a5f\u80fd\u3001\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u304c\u5229\u7528\u53ef\u80fd</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_18","title":"\u63a8\u5968\u69cb\u6210\uff08\u5546\u7528\u5229\u7528\u6642\uff09","text":"<p>\u521d\u671f\u30e6\u30fc\u30b6\u30fc\u7372\u5f97\u30d5\u30a7\u30fc\u30ba\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u69cb\u6210\u3092\u63a8\u5968\u3057\u307e\u3059\u3002</p> \u30b5\u30fc\u30d3\u30b9 \u30d7\u30e9\u30f3 \u6708\u984d Vercel Pro $20 Render Starter $7 Supabase Free $0 MongoDB Atlas M0 $0 Sentry Developer $0 \u5408\u8a08 $27"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#aws","title":"AWS\u74b0\u5883\u3078\u306e\u79fb\u884c","text":"<p>\u5546\u7528\u5229\u7528\u3092\u672c\u683c\u5316\u3059\u308b\u969b\u306f\u3001\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u5f8c\u8a2d\u8a08 \u306b\u5f93\u3063\u3066AWS\u74b0\u5883\u3078\u79fb\u884c\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_19","title":"\u79fb\u884c\u30bf\u30a4\u30df\u30f3\u30b0","text":"<p>\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u306b\u8a72\u5f53\u3059\u308b\u5834\u5408\u3001AWS\u74b0\u5883\u3078\u306e\u79fb\u884c\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002</p> <ul> <li>\u6708\u9593\u30a2\u30af\u30c6\u30a3\u30d6\u30e6\u30fc\u30b6\u30fc\u304c1,000\u4eba\u3092\u8d85\u3048\u308b</li> <li>\u7121\u6599\u67a0\u3092\u8d85\u3048\u3066\u904b\u7528\u30b3\u30b9\u30c8\u304c$100/\u6708\u3092\u8d85\u3048\u308b</li> <li>\u9ad8\u53ef\u7528\u6027\u30fb\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u304c\u5fc5\u8981\u306b\u306a\u308b</li> <li>\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u3001\u30ab\u30b9\u30bf\u30e0SSL\u8a3c\u660e\u66f8\u304c\u5fc5\u8981</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_20","title":"\u79fb\u884c\u624b\u9806","text":"<ol> <li>AWS\u74b0\u5883\u69cb\u7bc9: Terraform\u306b\u3088\u308b\u4e00\u62ec\u69cb\u7bc9</li> <li>\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8:</li> <li>Supabase \u2192 pg_dump</li> <li>MongoDB Atlas \u2192 mongodump</li> <li>\u30c7\u30fc\u30bf\u30a4\u30f3\u30dd\u30fc\u30c8:</li> <li>Aurora PostgreSQL \u2190 pg_restore</li> <li>MongoDB Atlas\uff08\u5546\u7528\u30af\u30e9\u30b9\u30bf\u30fc\uff09 \u2190 mongorestore</li> <li>DNS\u5207\u308a\u66ff\u3048: Route53\u306b\u3088\u308b\u6bb5\u968e\u7684\u306a\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u79fb\u884c</li> <li>\u691c\u8a3c: \u30ab\u30ca\u30ea\u30a2\u30ea\u30ea\u30fc\u30b9\u3001A/B\u30c6\u30b9\u30c8</li> <li>\u5b8c\u5168\u79fb\u884c: \u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9\u306e\u7e2e\u5c0f</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/03-production-pre-commercial/#_21","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>Vercel Documentation</li> <li>Render Documentation</li> <li>Supabase Documentation</li> <li>MongoDB Atlas Documentation</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/","title":"\u672c\u756a\u74b0\u5883_\u5546\u7528\u5229\u7528\u5f8c\u8a2d\u8a08\uff08Production - Commercial\uff09","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_1","title":"\u6982\u8981","text":"<p>\u5546\u7528\u5229\u7528\u3092\u672c\u683c\u5316\u3059\u308b\u969b\u306f\u3001AWS\u4e0a\u306b\u30d5\u30eb\u30b9\u30bf\u30c3\u30af\u3067\u69cb\u7bc9\u3057\u3001\u9ad8\u53ef\u7528\u6027\u30fb\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002Terraform + Terragrunt\u306b\u3088\u308b\u5b8c\u5168\u306aIaC\u7ba1\u7406\u3057\u307e\u3059\u3002\u73fe\u5728\u306eTerraform prod\u74b0\u5883\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_2","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3","text":"<pre><code>graph TD\n    U[\u30e6\u30fc\u30b6\u30fc]\n\n    subgraph \"AWS\"\n        R53[Route53&lt;br&gt;DNS]\n        CF[CloudFront + WAF&lt;br&gt;CDN + Firewall]\n\n        subgraph \"VPC\"\n            subgraph \"Public Subnet\"\n                ALB[Application&lt;br&gt;Load Balancer]\n            end\n\n            subgraph \"Private Subnet\"\n                ECS_Web[ECS Fargate&lt;br&gt;Next.js Web]\n                ECS_API[ECS Fargate&lt;br&gt;NestJS API]\n                Aurora[Aurora PostgreSQL&lt;br&gt;Serverless v2]\n            end\n        end\n\n        S3[S3&lt;br&gt;\u9759\u7684\u30a2\u30bb\u30c3\u30c8]\n        SSM[SSM Parameter Store&lt;br&gt;\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u7ba1\u7406]\n        IAM[IAM&lt;br&gt;\u30a2\u30af\u30bb\u30b9\u5236\u5fa1]\n        CW[CloudWatch&lt;br&gt;\u30ed\u30b0\u30fb\u30e1\u30c8\u30ea\u30af\u30b9]\n    end\n\n    subgraph \"External Services\"\n        MA[MongoDB Atlas&lt;br&gt;\u30ed\u30b0DB]\n        DD[Datadog&lt;br&gt;\u76e3\u8996]\n        SN[Sentry&lt;br&gt;\u30a8\u30e9\u30fc\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0]\n    end\n\n    U --&gt; R53\n    R53 --&gt; CF\n    CF --&gt; ALB\n    CF --&gt; S3\n    ALB --&gt; ECS_Web\n    ALB --&gt; ECS_API\n    ECS_Web --&gt; ECS_API\n    ECS_API --&gt; Aurora\n    ECS_API --&gt; MA\n\n    ECS_Web --&gt; SSM\n    ECS_API --&gt; SSM\n    ECS_Web --&gt; IAM\n    ECS_API --&gt; IAM\n\n    ECS_Web --&gt; CW\n    ECS_API --&gt; CW\n    ECS_Web --&gt; DD\n    ECS_API --&gt; DD\n    ECS_Web --&gt; SN\n    ECS_API --&gt; SN\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_3","title":"\u30a4\u30f3\u30d5\u30e9\u69cb\u6210","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#dns-route53","title":"DNS - Route53","text":"<p>\u6a5f\u80fd:</p> <ul> <li>\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u7ba1\u7406</li> <li>\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af</li> <li>\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0</li> <li>DNS\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># \u30db\u30b9\u30c8\u30be\u30fc\u30f3\nresource \"aws_route53_zone\" \"main\" {\n  name = \"example.com\"\n}\n\n# A\u30ec\u30b3\u30fc\u30c9\uff08CloudFront\uff09\nresource \"aws_route53_record\" \"web\" {\n  zone_id = aws_route53_zone.main.zone_id\n  name    = \"www.example.com\"\n  type    = \"A\"\n\n  alias {\n    name                   = aws_cloudfront_distribution.main.domain_name\n    zone_id                = aws_cloudfront_distribution.main.hosted_zone_id\n    evaluate_target_health = false\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#cdn-cloudfront-waf","title":"CDN - CloudFront + WAF","text":"<p>CloudFront\u6a5f\u80fd:</p> <ul> <li>\u30b0\u30ed\u30fc\u30d0\u30eb\u30a8\u30c3\u30b8\u914d\u4fe1</li> <li>HTTPS/TLS 1.2\u4ee5\u4e0a</li> <li>\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u5bfe\u5fdc</li> <li>\u30ad\u30e3\u30c3\u30b7\u30e5\u5236\u5fa1</li> <li>\u30aa\u30ea\u30b8\u30f3\uff08ALB\u3001S3\uff09\u632f\u308a\u5206\u3051</li> </ul> <p>WAF\u6a5f\u80fd:</p> <ul> <li>SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u9632\u6b62</li> <li>XSS\uff08Cross-Site Scripting\uff09\u9632\u6b62</li> <li>\u30ec\u30fc\u30c8\u30ea\u30df\u30c3\u30c8</li> <li>\u5730\u57df\u30d6\u30ed\u30c3\u30af</li> <li>IP\u30db\u30ef\u30a4\u30c8\u30ea\u30b9\u30c8/\u30d6\u30e9\u30c3\u30af\u30ea\u30b9\u30c8</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># WAF Web ACL\nresource \"aws_wafv2_web_acl\" \"main\" {\n  name  = \"${var.project_name}-${var.environment}-waf\"\n  scope = \"CLOUDFRONT\"\n\n  rule {\n    name     = \"AWS-AWSManagedRulesCommonRuleSet\"\n    priority = 1\n\n    override_action {\n      none {}\n    }\n\n    statement {\n      managed_rule_group_statement {\n        vendor_name = \"AWS\"\n        name        = \"AWSManagedRulesCommonRuleSet\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-vpc","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af - VPC","text":"<p>\u69cb\u6210:</p> <ul> <li>CIDR: 10.0.0.0/16\uff0865,536 IP\u30a2\u30c9\u30ec\u30b9\uff09</li> <li>Public Subnet: 10.0.1.0/24\u300110.0.2.0/24\uff08AZ\u5206\u6563\uff09</li> <li>Private Subnet: 10.0.11.0/24\u300110.0.12.0/24\uff08AZ\u5206\u6563\uff09</li> </ul> <p>\u30ea\u30bd\u30fc\u30b9:</p> <ul> <li>Internet Gateway\uff08IGW\uff09</li> <li>NAT Gateway\uff08\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30b5\u30d6\u30cd\u30c3\u30c8\u304b\u3089\u306e\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u901a\u4fe1\uff09</li> <li>VPC Endpoint\uff08S3\u3001ECR\u3001CloudWatch Logs\u3078\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u63a5\u7d9a\uff09</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># VPC\nresource \"aws_vpc\" \"main\" {\n  cidr_block           = \"10.0.0.0/16\"\n  enable_dns_hostnames = true\n  enable_dns_support   = true\n}\n\n# Public Subnet\uff08AZ-a\uff09\nresource \"aws_subnet\" \"public_a\" {\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = \"10.0.1.0/24\"\n  availability_zone = \"ap-northeast-1a\"\n}\n\n# Private Subnet\uff08AZ-a\uff09\nresource \"aws_subnet\" \"private_a\" {\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = \"10.0.11.0/24\"\n  availability_zone = \"ap-northeast-1a\"\n}\n\n# VPC Endpoint\uff08S3\uff09\nresource \"aws_vpc_endpoint\" \"s3\" {\n  vpc_id            = aws_vpc.main.id\n  service_name      = \"com.amazonaws.ap-northeast-1.s3\"\n  vpc_endpoint_type = \"Gateway\"\n  route_table_ids   = [aws_route_table.private.id]\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-alb","title":"\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc - ALB","text":"<p>\u6a5f\u80fd:</p> <ul> <li>HTTP/HTTPS \u30bf\u30fc\u30b2\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7\u632f\u308a\u5206\u3051</li> <li>\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af</li> <li>SSL/TLS\u7d42\u7aef</li> <li>\u30b9\u30c6\u30a3\u30c3\u30ad\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3</li> <li>\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\uff08S3\u4fdd\u5b58\uff09</li> </ul> <p>\u30bf\u30fc\u30b2\u30c3\u30c8\u30b0\u30eb\u30fc\u30d7:</p> <ul> <li>Web: /\uff08Next.js SSR\uff09</li> <li>API: /api/*\uff08NestJS\uff09</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Application Load Balancer\nresource \"aws_lb\" \"main\" {\n  name               = \"${var.project_name}-${var.environment}-alb\"\n  internal           = false\n  load_balancer_type = \"application\"\n  security_groups    = [var.alb_security_group_id]\n  subnets            = var.public_subnet_ids\n\n  enable_deletion_protection = var.enable_deletion_protection\n  enable_http2              = true\n}\n\n# Target Group\uff08Web\uff09\nresource \"aws_lb_target_group\" \"web\" {\n  name        = \"${var.project_name}-${var.environment}-web-tg\"\n  port        = 3000\n  protocol    = \"HTTP\"\n  vpc_id      = var.vpc_id\n  target_type = \"ip\"\n\n  health_check {\n    path                = \"/api/health\"\n    healthy_threshold   = 2\n    unhealthy_threshold = 3\n    timeout             = 5\n    interval            = 30\n    matcher             = \"200\"\n  }\n}\n\n# Listener\uff08HTTP \u2192 HTTPS \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\uff09\nresource \"aws_lb_listener\" \"http\" {\n  load_balancer_arn = aws_lb.main.arn\n  port              = \"80\"\n  protocol          = \"HTTP\"\n\n  default_action {\n    type = \"redirect\"\n\n    redirect {\n      port        = \"443\"\n      protocol    = \"HTTPS\"\n      status_code = \"HTTP_301\"\n    }\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-ecs-on-fargate","title":"\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0 - ECS on Fargate","text":"<p>\u69cb\u6210:</p> <ul> <li>\u30af\u30e9\u30b9\u30bf\u30fc: bookmark-manager-production-cluster</li> <li>\u30b5\u30fc\u30d3\u30b9:</li> <li>Web: Next.js\uff08SSR\uff09</li> <li>API: NestJS\uff08REST API\uff09</li> </ul> <p>Fargate \u30bf\u30b9\u30af\u5b9a\u7fa9:</p> <ul> <li>Web:</li> <li>CPU: 512\uff080.5 vCPU\uff09</li> <li>Memory: 1024MB</li> <li>\u30dd\u30fc\u30c8: 3000</li> <li>API:</li> <li>CPU: 512\uff080.5 vCPU\uff09</li> <li>Memory: 1024MB</li> <li>\u30dd\u30fc\u30c8: 3001</li> </ul> <p>\u6a5f\u80fd:</p> <ul> <li>SSM\u30bb\u30c3\u30b7\u30e7\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u7d4c\u7531\u306e\u30b3\u30f3\u30c6\u30ca\u30a2\u30af\u30bb\u30b9</li> <li>\u81ea\u52d5\u30c7\u30d7\u30ed\u30a4\uff08\u65b0\u30a4\u30e1\u30fc\u30b8\u30d7\u30c3\u30b7\u30e5\u6642\uff09</li> <li>\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af</li> <li>\u30c7\u30d7\u30ed\u30a4\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\uff08\u81ea\u52d5\u30ed\u30fc\u30eb\u30d0\u30c3\u30af\uff09</li> <li>\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># ECS Cluster\nresource \"aws_ecs_cluster\" \"main\" {\n  name = \"${var.project_name}-${var.environment}-cluster\"\n\n  setting {\n    name  = \"containerInsights\"\n    value = \"enabled\"\n  }\n}\n\n# Task Definition\uff08Web\uff09\nresource \"aws_ecs_task_definition\" \"web\" {\n  family                   = \"${var.project_name}-${var.environment}-web\"\n  network_mode             = \"awsvpc\"\n  requires_compatibilities = [\"FARGATE\"]\n  cpu                      = \"512\"\n  memory                   = \"1024\"\n  execution_role_arn       = var.ecs_execution_role_arn\n  task_role_arn            = var.ecs_task_role_arn\n\n  container_definitions = jsonencode([\n    {\n      name  = \"web\"\n      image = \"${var.ecr_repository_url_web}:latest\"\n      portMappings = [\n        {\n          containerPort = 3000\n          protocol      = \"tcp\"\n        }\n      ]\n      environment = [\n        {\n          name  = \"NODE_ENV\"\n          value = \"production\"\n        }\n      ]\n      secrets = [\n        {\n          name      = \"DATABASE_URL\"\n          valueFrom = \"/${var.project_name}/${var.environment}/DATABASE_URL\"\n        }\n      ]\n      logConfiguration = {\n        logDriver = \"awslogs\"\n        options = {\n          \"awslogs-group\"         = aws_cloudwatch_log_group.web.name\n          \"awslogs-region\"        = var.aws_region\n          \"awslogs-stream-prefix\" = \"ecs\"\n        }\n      }\n    }\n  ])\n}\n\n# ECS Service\uff08Web\uff09\nresource \"aws_ecs_service\" \"web\" {\n  name            = \"${var.project_name}-${var.environment}-web\"\n  cluster         = aws_ecs_cluster.main.id\n  task_definition = aws_ecs_task_definition.web.arn\n  desired_count   = 2\n  launch_type     = \"FARGATE\"\n\n  enable_execute_command = true\n  force_new_deployment   = true\n\n  deployment_circuit_breaker {\n    enable   = true\n    rollback = true\n  }\n\n  network_configuration {\n    subnets          = var.private_subnet_ids\n    security_groups  = [var.ecs_security_group_id]\n    assign_public_ip = false\n  }\n\n  load_balancer {\n    target_group_arn = aws_lb_target_group.web.arn\n    container_name   = \"web\"\n    container_port   = 3000\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_4","title":"\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0","text":"<p>\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u30dd\u30ea\u30b7\u30fc:</p> <ul> <li>CPU\u4f7f\u7528\u7387\u30d9\u30fc\u30b9: 70\uff05\u8d85\u904e\u3067\u8ffd\u52a0\u300130\uff05\u672a\u6e80\u3067\u524a\u6e1b</li> <li>\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30d9\u30fc\u30b9: \u591c\u9593\u30fb\u4f11\u65e5\u306f\u6700\u5c0f\u53f0\u6570\u306b\u524a\u6e1b</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Auto Scaling Target\nresource \"aws_appautoscaling_target\" \"api\" {\n  max_capacity       = 10\n  min_capacity       = 2\n  resource_id        = \"service/${aws_ecs_cluster.main.name}/${aws_ecs_service.api.name}\"\n  scalable_dimension = \"ecs:service:DesiredCount\"\n  service_namespace  = \"ecs\"\n}\n\n# CPU\u4f7f\u7528\u7387\u30d9\u30fc\u30b9\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\nresource \"aws_appautoscaling_policy\" \"api_cpu\" {\n  name               = \"${var.project_name}-${var.environment}-api-cpu\"\n  policy_type        = \"TargetTrackingScaling\"\n  resource_id        = aws_appautoscaling_target.api.resource_id\n  scalable_dimension = aws_appautoscaling_target.api.scalable_dimension\n  service_namespace  = aws_appautoscaling_target.api.service_namespace\n\n  target_tracking_scaling_policy_configuration {\n    predefined_metric_specification {\n      predefined_metric_type = \"ECSServiceAverageCPUUtilization\"\n    }\n    target_value = 70.0\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-aurora-postgresql-serverless-v2","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 - Aurora PostgreSQL Serverless v2","text":"<p>\u6a5f\u80fd:</p> <ul> <li>PostgreSQL 17\u4e92\u63db</li> <li>\u81ea\u52d5\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\uff080.5 ACU \u301c 16 ACU\uff09</li> <li>\u30de\u30eb\u30c1AZ\u69cb\u6210</li> <li>\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\uff087\u65e5\u9593\u4fdd\u6301\uff09</li> <li>Point-in-Time Recovery</li> <li>\u6697\u53f7\u5316\uff08\u4fdd\u7ba1\u6642\u30fb\u8ee2\u9001\u6642\uff09</li> </ul> <p>\u69cb\u6210:</p> <ul> <li>\u30a8\u30f3\u30b8\u30f3: aurora-postgresql</li> <li>\u30a8\u30f3\u30b8\u30f3\u30d0\u30fc\u30b8\u30e7\u30f3: 17.2</li> <li>\u6700\u5c0f\u5bb9\u91cf: 0.5 ACU</li> <li>\u6700\u5927\u5bb9\u91cf: 2 ACU\uff08\u672c\u756a\u306f16 ACU\uff09</li> <li>\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570: 2\uff08\u30de\u30eb\u30c1AZ\uff09</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Aurora Cluster\nresource \"aws_rds_cluster\" \"main\" {\n  cluster_identifier      = \"${var.project_name}-${var.environment}-aurora\"\n  engine                  = \"aurora-postgresql\"\n  engine_mode             = \"provisioned\"\n  engine_version          = \"17.2\"\n  database_name           = \"bookmarkdb\"\n  master_username         = \"dbadmin\"\n  master_password         = random_password.aurora_password.result\n  db_subnet_group_name    = aws_db_subnet_group.aurora.name\n  vpc_security_group_ids  = [var.db_security_group_id]\n  backup_retention_period = 7\n  preferred_backup_window = \"03:00-04:00\"\n  skip_final_snapshot     = false\n  deletion_protection     = true\n\n  serverlessv2_scaling_configuration {\n    min_capacity = 0.5\n    max_capacity = 16\n  }\n}\n\n# Aurora Cluster Instance\nresource \"aws_rds_cluster_instance\" \"main\" {\n  count = 2\n\n  identifier           = \"${var.project_name}-${var.environment}-aurora-${count.index + 1}\"\n  cluster_identifier   = aws_rds_cluster.main.id\n  instance_class       = \"db.serverless\"\n  engine               = aws_rds_cluster.main.engine\n  engine_version       = aws_rds_cluster.main.engine_version\n  publicly_accessible  = false\n  db_subnet_group_name = aws_db_subnet_group.aurora.name\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#nosql-mongodb-atlas","title":"NoSQL - MongoDB Atlas","text":"<p>\u6a5f\u80fd:</p> <ul> <li>MongoDB 8.0</li> <li>\u30ec\u30d7\u30ea\u30ab\u30bb\u30c3\u30c8\u69cb\u6210</li> <li>\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7</li> <li>\u76e3\u8996\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9</li> <li>\u30ed\u30fc\u30eb\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9\u5236\u5fa1</li> </ul> <p>\u69cb\u6210:</p> <ul> <li>\u30af\u30e9\u30b9\u30bf\u30fc\u5c64: M10\uff08\u672c\u756a\uff09</li> <li>\u30ea\u30fc\u30b8\u30e7\u30f3: AWS ap-northeast-1</li> <li>\u30ec\u30d7\u30ea\u30ab\u30bb\u30c3\u30c8: 3\u30ce\u30fc\u30c9</li> <li>\u30b9\u30c8\u30ec\u30fc\u30b8: 10GB\u301c\uff08\u81ea\u52d5\u62e1\u5f35\uff09</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># MongoDB Atlas Cluster\nresource \"mongodbatlas_cluster\" \"main\" {\n  project_id = var.mongodbatlas_project_id\n  name       = \"${var.project_name}-${var.environment}\"\n\n  provider_name               = \"AWS\"\n  provider_region_name        = \"AP_NORTHEAST_1\"\n  provider_instance_size_name = \"M10\"\n\n  mongo_db_major_version = \"8.0\"\n  cluster_type           = \"REPLICASET\"\n  replication_factor     = 3\n\n  auto_scaling_disk_gb_enabled = true\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-ssm-parameter-store","title":"\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u7ba1\u7406 - SSM Parameter Store","text":"<p>\u7ba1\u7406\u5bfe\u8c61:</p> <ul> <li>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u60c5\u5831\uff08DATABASE_URL\uff09</li> <li>MongoDB\u63a5\u7d9a\u6587\u5b57\u5217\uff08MONGODB_URI\uff09</li> <li>API\u30ad\u30fc\uff08Datadog\u3001Sentry\uff09</li> <li>JWT\u7f72\u540d\u9375</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Aurora DATABASE_URL\nresource \"aws_ssm_parameter\" \"aurora_database_url\" {\n  name        = \"/${var.project_name}/${var.environment}/DATABASE_URL\"\n  description = \"Database connection URL for Prisma\"\n  type        = \"SecureString\"\n  value       = \"postgresql://${var.db_username}:${random_password.aurora_password.result}@${aws_rds_cluster.main.endpoint}:5432/${var.db_name}?schema=public\"\n}\n\n# MongoDB URI\nresource \"aws_ssm_parameter\" \"mongodb_uri\" {\n  name        = \"/${var.project_name}/${var.environment}/MONGODB_URI\"\n  description = \"MongoDB connection string\"\n  type        = \"SecureString\"\n  value       = var.mongodb_uri\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-s3","title":"\u9759\u7684\u30a2\u30bb\u30c3\u30c8 - S3","text":"<p>\u30d0\u30b1\u30c3\u30c8:</p> <ul> <li>\u9759\u7684\u30d5\u30a1\u30a4\u30eb: images\u3001CSS\u3001JavaScript</li> <li>\u30a2\u30af\u30bb\u30b9\u30ed\u30b0: ALB\u30a2\u30af\u30bb\u30b9\u30ed\u30b0</li> <li>\u30d0\u30c3\u30af\u30a2\u30c3\u30d7: \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d0\u30c3\u30af\u30a2\u30c3\u30d7</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># S3 Bucket\uff08\u9759\u7684\u30a2\u30bb\u30c3\u30c8\uff09\nresource \"aws_s3_bucket\" \"assets\" {\n  bucket = \"${var.project_name}-${var.environment}-assets\"\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-assets\"\n  }\n}\n\n# \u30d0\u30b1\u30c3\u30c8\u6697\u53f7\u5316\nresource \"aws_s3_bucket_server_side_encryption_configuration\" \"assets\" {\n  bucket = aws_s3_bucket.assets.id\n\n  rule {\n    apply_server_side_encryption_by_default {\n      sse_algorithm = \"AES256\"\n    }\n  }\n}\n\n# \u30d0\u30b1\u30c3\u30c8\u30dd\u30ea\u30b7\u30fc\uff08CloudFront\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u307f\u8a31\u53ef\uff09\nresource \"aws_s3_bucket_policy\" \"assets\" {\n  bucket = aws_s3_bucket.assets.id\n\n  policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Sid    = \"AllowCloudFrontAccess\"\n        Effect = \"Allow\"\n        Principal = {\n          Service = \"cloudfront.amazonaws.com\"\n        }\n        Action   = \"s3:GetObject\"\n        Resource = \"${aws_s3_bucket.assets.arn}/*\"\n        Condition = {\n          StringEquals = {\n            \"AWS:SourceArn\" = aws_cloudfront_distribution.main.arn\n          }\n        }\n      }\n    ]\n  })\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-cloudwatch","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0 - CloudWatch","text":"<p>\u30ed\u30b0\u53ce\u96c6:</p> <ul> <li>ECS\u30bf\u30b9\u30af\u30ed\u30b0</li> <li>ALB\u30a2\u30af\u30bb\u30b9\u30ed\u30b0</li> <li>VPC\u30d5\u30ed\u30fc\u30ed\u30b0</li> </ul> <p>\u30e1\u30c8\u30ea\u30af\u30b9:</p> <ul> <li>ECS CPU/\u30e1\u30e2\u30ea\u4f7f\u7528\u7387</li> <li>ALB\u30ea\u30af\u30a8\u30b9\u30c8\u6570/\u30ec\u30a4\u30c6\u30f3\u30b7</li> <li>Aurora\u63a5\u7d9a\u6570/\u30af\u30a8\u30ea\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9</li> </ul> <p>\u30a2\u30e9\u30fc\u30e0:</p> <ul> <li>CPU\u4f7f\u7528\u7387 &gt; 80%</li> <li>\u30e1\u30e2\u30ea\u4f7f\u7528\u7387 &gt; 80%</li> <li>ALB 5xx\u30a8\u30e9\u30fc\u7387 &gt; 5%</li> <li>Aurora\u63a5\u7d9a\u6570 &gt; \u95be\u5024</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># CloudWatch Log Group\uff08ECS Web\uff09\nresource \"aws_cloudwatch_log_group\" \"web\" {\n  name              = \"/ecs/${var.project_name}-${var.environment}-web\"\n  retention_in_days = 30\n}\n\n# CloudWatch Alarm\uff08CPU\u4f7f\u7528\u7387\uff09\nresource \"aws_cloudwatch_metric_alarm\" \"api_cpu_high\" {\n  alarm_name          = \"${var.project_name}-${var.environment}-api-cpu-high\"\n  comparison_operator = \"GreaterThanThreshold\"\n  evaluation_periods  = \"2\"\n  metric_name         = \"CPUUtilization\"\n  namespace           = \"AWS/ECS\"\n  period              = \"300\"\n  statistic           = \"Average\"\n  threshold           = \"80\"\n  alarm_description   = \"API CPU utilization is too high\"\n  alarm_actions       = [aws_sns_topic.alerts.arn]\n\n  dimensions = {\n    ClusterName = aws_ecs_cluster.main.name\n    ServiceName = aws_ecs_service.api.name\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#-datadog-sentry","title":"\u5916\u90e8\u30b5\u30fc\u30d3\u30b9 - Datadog / Sentry","text":"<p>Datadog:</p> <ul> <li>APM\uff08Application Performance Monitoring\uff09</li> <li>\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u76e3\u8996</li> <li>\u30ed\u30b0\u7ba1\u7406</li> <li>\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9</li> </ul> <p>Sentry:</p> <ul> <li>\u30a8\u30e9\u30fc\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0</li> <li>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996</li> <li>\u30ea\u30ea\u30fc\u30b9\u8ffd\u8de1</li> <li>\u30a2\u30e9\u30fc\u30c8\u901a\u77e5</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Datadog Monitor\nresource \"datadog_monitor\" \"api_error_rate\" {\n  name    = \"${var.project_name}-${var.environment} API Error Rate\"\n  type    = \"metric alert\"\n  message = \"API error rate is too high @slack-alerts\"\n\n  query = \"avg(last_5m):sum:trace.express.request.errors{env:${var.environment}} / sum:trace.express.request.hits{env:${var.environment}} &gt; 0.05\"\n\n  thresholds = {\n    critical = 0.05\n    warning  = 0.03\n  }\n}\n\n# Sentry Project\nresource \"sentry_project\" \"api\" {\n  organization = var.sentry_organization\n  team         = var.sentry_team\n  name         = \"${var.project_name}-${var.environment}-api\"\n  platform     = \"node\"\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_5","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#iam","title":"IAM\u30ed\u30fc\u30eb\u30fb\u30dd\u30ea\u30b7\u30fc","text":"<p>ECS\u30bf\u30b9\u30af\u5b9f\u884c\u30ed\u30fc\u30eb:</p> <ul> <li>ECR\u30a4\u30e1\u30fc\u30b8\u30d7\u30eb</li> <li>CloudWatch Logs\u3078\u306e\u66f8\u304d\u8fbc\u307f</li> <li>SSM Parameter Store\u304b\u3089\u306e\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u53d6\u5f97</li> </ul> <p>ECS\u30bf\u30b9\u30af\u30ed\u30fc\u30eb:</p> <ul> <li>S3\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9</li> <li>SSM\u30bb\u30c3\u30b7\u30e7\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u63a5\u7d9a</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># ECS Task Execution Role\nresource \"aws_iam_role\" \"ecs_execution_role\" {\n  name = \"${var.project_name}-${var.environment}-ecs-execution-role\"\n\n  assume_role_policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = \"sts:AssumeRole\"\n        Effect = \"Allow\"\n        Principal = {\n          Service = \"ecs-tasks.amazonaws.com\"\n        }\n      }\n    ]\n  })\n}\n\n# \u30dd\u30ea\u30b7\u30fc\u30a2\u30bf\u30c3\u30c1\nresource \"aws_iam_role_policy_attachment\" \"ecs_execution_role_policy\" {\n  role       = aws_iam_role.ecs_execution_role.name\n  policy_arn = \"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy\"\n}\n\n# SSM Parameter Store\u8aad\u307f\u53d6\u308a\u6a29\u9650\nresource \"aws_iam_role_policy\" \"ecs_ssm_policy\" {\n  name = \"${var.project_name}-${var.environment}-ecs-ssm-policy\"\n  role = aws_iam_role.ecs_execution_role.id\n\n  policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = [\n          \"ssm:GetParameters\",\n          \"ssm:GetParameter\"\n        ]\n        Effect   = \"Allow\"\n        Resource = \"arn:aws:ssm:${var.aws_region}:${data.aws_caller_identity.current.account_id}:parameter/${var.project_name}/${var.environment}/*\"\n      }\n    ]\n  })\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#security-group","title":"Security Group","text":"<p>ALB Security Group:</p> <ul> <li>\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9: 80\uff08HTTP\uff09\u3001443\uff08HTTPS\uff09\u5168\u8a31\u53ef</li> <li>\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9: ECS\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3078\u306e\u307f\u8a31\u53ef</li> </ul> <p>ECS Security Group:</p> <ul> <li>\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9: ALB\u304b\u3089\u306e3000\u30013001\u30dd\u30fc\u30c8\u306e\u307f\u8a31\u53ef</li> <li>\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9: Aurora\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\uff08HTTPS\uff09\u3078\u306e\u901a\u4fe1\u8a31\u53ef</li> </ul> <p>Aurora Security Group:</p> <ul> <li>\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9: ECS\u304b\u3089\u306e5432\u30dd\u30fc\u30c8\u306e\u307f\u8a31\u53ef</li> <li>\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9: \u306a\u3057</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># ALB Security Group\nresource \"aws_security_group\" \"alb\" {\n  name        = \"${var.project_name}-${var.environment}-alb-sg\"\n  description = \"Security group for ALB\"\n  vpc_id      = var.vpc_id\n\n  ingress {\n    from_port   = 80\n    to_port     = 80\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  ingress {\n    from_port   = 443\n    to_port     = 443\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  egress {\n    from_port       = 3000\n    to_port         = 3001\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.ecs.id]\n  }\n}\n\n# ECS Security Group\nresource \"aws_security_group\" \"ecs\" {\n  name        = \"${var.project_name}-${var.environment}-ecs-sg\"\n  description = \"Security group for ECS tasks\"\n  vpc_id      = var.vpc_id\n\n  ingress {\n    from_port       = 3000\n    to_port         = 3001\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.alb.id]\n  }\n\n  egress {\n    from_port   = 0\n    to_port     = 0\n    protocol    = \"-1\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n}\n\n# Aurora Security Group\nresource \"aws_security_group\" \"aurora\" {\n  name        = \"${var.project_name}-${var.environment}-aurora-sg\"\n  description = \"Security group for Aurora PostgreSQL\"\n  vpc_id      = var.vpc_id\n\n  ingress {\n    from_port       = 5432\n    to_port         = 5432\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.ecs.id]\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_6","title":"\u30c7\u30d7\u30ed\u30a4\u30d5\u30ed\u30fc","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#cicdgithub-actions","title":"CI/CD\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\uff08GitHub Actions\uff09","text":"<pre><code>graph LR\n    A[Git\u30d7\u30c3\u30b7\u30e5] --&gt; B[GitHub Actions]\n    B --&gt; C[\u30d3\u30eb\u30c9\u30fb\u30c6\u30b9\u30c8]\n    C --&gt; D[Docker\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9]\n    D --&gt; E[ECR\u30d7\u30c3\u30b7\u30e5]\n    E --&gt; F[ECS\u30bf\u30b9\u30af\u5b9a\u7fa9\u66f4\u65b0]\n    F --&gt; G[ECS\u30b5\u30fc\u30d3\u30b9\u66f4\u65b0]\n    G --&gt; H[\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af]\n    H --&gt; I[\u30c7\u30d7\u30ed\u30a4\u5b8c\u4e86]\n</code></pre> <p>GitHub Actions \u30ef\u30fc\u30af\u30d5\u30ed\u30fc:</p> <pre><code>name: Deploy to Production\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Configure AWS credentials\n        uses: aws-actions/configure-aws-credentials@v4\n        with:\n          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}\n          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}\n          aws-region: ap-northeast-1\n\n      - name: Login to Amazon ECR\n        id: login-ecr\n        uses: aws-actions/amazon-ecr-login@v2\n\n      - name: Build and push Docker image\n        env:\n          ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}\n          ECR_REPOSITORY: bookmark-manager-production-api\n          IMAGE_TAG: ${{ github.sha }}\n        run: |\n          docker build -t $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG -f src/apps/web-api/core/Dockerfile .\n          docker push $ECR_REGISTRY/$ECR_REPOSITORY:$IMAGE_TAG\n\n      - name: Deploy to ECS\n        run: |\n          aws ecs update-service \\\n            --cluster bookmark-manager-production-cluster \\\n            --service bookmark-manager-production-api \\\n            --force-new-deployment\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_7","title":"\u30b3\u30b9\u30c8\u8a66\u7b97","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_8","title":"\u6708\u984d\u30b3\u30b9\u30c8\uff08\u60f3\u5b9a\uff09","text":"\u30b5\u30fc\u30d3\u30b9 \u9805\u76ee \u6708\u984d ECS Fargate 0.5 vCPU \u00d7 1GB \u00d7 2\u30bf\u30b9\u30af \u00d7 730\u6642\u9593 $35 Aurora Serverless v2 0.5 ACU \u00d7 2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u00d7 730\u6642\u9593 $66 ALB 1\u53f0 \u00d7 730\u6642\u9593 + \u30c7\u30fc\u30bf\u8ee2\u9001 $25 NAT Gateway 1\u53f0 \u00d7 730\u6642\u9593 + \u30c7\u30fc\u30bf\u8ee2\u9001 $40 CloudFront 1TB\u8ee2\u9001 $85 Route53 \u30db\u30b9\u30c8\u30be\u30fc\u30f3 + \u30af\u30a8\u30ea $1 S3 100GB \u30b9\u30c8\u30ec\u30fc\u30b8 + \u30ea\u30af\u30a8\u30b9\u30c8 $3 CloudWatch Logs 10GB \u30ed\u30b0 $5 MongoDB Atlas M10\uff0810GB\uff09 $57 Datadog 2\u30db\u30b9\u30c8 $30 Sentry Team\u30d7\u30e9\u30f3 $26 \u5408\u8a08 $373"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_9","title":"\u30b3\u30b9\u30c8\u524a\u6e1b\u65bd\u7b56","text":"<ol> <li>VPC Endpoint: NAT Gateway\u6599\u91d1\u524a\u6e1b\uff08$40 \u2192 $10\uff09</li> <li>\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0: \u591c\u9593\u30fb\u4f11\u65e5\u306e\u30bf\u30b9\u30af\u524a\u6e1b\uff08$35 \u2192 $25\uff09</li> <li>CloudWatch Logs\u4fdd\u6301\u671f\u9593: 30\u65e5 \u2192 7\u65e5\uff08$5 \u2192 $2\uff09</li> <li>Aurora Serverless v2: \u6700\u5c0f\u5bb9\u91cf0.5 ACU\uff08$66\u7dad\u6301\uff09</li> </ol> <p>\u524a\u6e1b\u5f8c:</p> <ul> <li>\u5408\u8a08: $373 \u2192 $320</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_10","title":"\u904b\u7528","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_11","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7","text":"<p>Aurora PostgreSQL:</p> <ul> <li>\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7: 7\u65e5\u9593\u4fdd\u6301</li> <li>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8: \u624b\u52d5\u53d6\u5f97</li> <li>Point-in-Time Recovery: \u4efb\u610f\u6642\u70b9\u3078\u306e\u5fa9\u5143</li> </ul> <p>MongoDB Atlas:</p> <ul> <li>\u81ea\u52d5\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8: \u65e5\u6b21</li> <li>\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8: \u624b\u52d5\u53d6\u5f97</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_12","title":"\u30c7\u30a3\u30b6\u30b9\u30bf\u30ea\u30ab\u30d0\u30ea","text":"<p>\u76ee\u6a19:</p> <ul> <li>RTO\uff08Recovery Time Objective\uff09: 4\u6642\u9593</li> <li>RPO\uff08Recovery Point Objective\uff09: 1\u6642\u9593</li> </ul> <p>\u624b\u9806:</p> <ol> <li>\u30de\u30eb\u30c1AZ\u69cb\u6210\u306b\u3088\u308b\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc\uff08\u81ea\u52d5\uff09</li> <li>\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304b\u3089\u306e\u5fa9\u5143\uff08\u624b\u52d5\uff09</li> <li>\u5225\u30ea\u30fc\u30b8\u30e7\u30f3\u3078\u306e\u5207\u308a\u66ff\u3048\uff08\u5c06\u6765\uff09</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_13","title":"\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8","text":"<p>Fargate \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30d0\u30fc\u30b8\u30e7\u30f3:</p> <ul> <li>\u81ea\u52d5\u66f4\u65b0\uff08\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\uff09</li> </ul> <p>Aurora PostgreSQL:</p> <ul> <li>\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3: \u81ea\u52d5\u66f4\u65b0</li> <li>\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3: \u624b\u52d5\u66f4\u65b0</li> </ul> <p>ECS\u30bf\u30b9\u30af\u5b9a\u7fa9:</p> <ul> <li>\u65b0\u30a4\u30e1\u30fc\u30b8\u30d7\u30c3\u30b7\u30e5\u6642\u306b\u81ea\u52d5\u66f4\u65b0</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/04-production-commercial/#_14","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>AWS Documentation</li> <li>Terraform AWS Provider</li> <li>Terragrunt Documentation</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_2","title":"\u6982\u8981","text":"<p>\u672c\u756a\u74b0\u5883\uff08AWS\uff09\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u8a08\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u30b3\u30b9\u30c8\u6700\u9069\u5316\u3092\u8003\u616e\u3057\u305f\u69cb\u6210\u3067\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_3","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210\u56f3","text":"<pre><code>graph TB\n    Internet[\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8]\n\n    subgraph \"AWS VPC (10.0.0.0/16)\"\n        IGW[Internet Gateway]\n\n        subgraph \"AZ-a (ap-northeast-1a)\"\n            subgraph \"Public Subnet A (10.0.1.0/24)\"\n                ALB_A[ALB]\n                NAT_A[NAT Gateway]\n            end\n\n            subgraph \"Private Subnet A (10.0.11.0/24)\"\n                ECS_Web_A[ECS Web]\n                ECS_API_A[ECS API]\n                Aurora_A[Aurora Instance 1]\n            end\n        end\n\n        subgraph \"AZ-c (ap-northeast-1c)\"\n            subgraph \"Public Subnet C (10.0.2.0/24)\"\n                ALB_C[ALB]\n            end\n\n            subgraph \"Private Subnet C (10.0.12.0/24)\"\n                ECS_Web_C[ECS Web]\n                ECS_API_C[ECS API]\n                Aurora_C[Aurora Instance 2]\n            end\n        end\n\n        VPCEndpoint_S3[VPC Endpoint&lt;br&gt;S3]\n        VPCEndpoint_ECR[VPC Endpoint&lt;br&gt;ECR]\n        VPCEndpoint_CW[VPC Endpoint&lt;br&gt;CloudWatch Logs]\n    end\n\n    Internet --&gt; IGW\n    IGW --&gt; ALB_A\n    IGW --&gt; ALB_C\n\n    ALB_A --&gt; ECS_Web_A\n    ALB_A --&gt; ECS_API_A\n    ALB_C --&gt; ECS_Web_C\n    ALB_C --&gt; ECS_API_C\n\n    ECS_Web_A --&gt; ECS_API_A\n    ECS_Web_C --&gt; ECS_API_C\n\n    ECS_API_A --&gt; Aurora_A\n    ECS_API_C --&gt; Aurora_C\n\n    ECS_Web_A --&gt; VPCEndpoint_S3\n    ECS_API_A --&gt; VPCEndpoint_ECR\n    ECS_API_A --&gt; VPCEndpoint_CW\n\n    NAT_A --&gt; Internet\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#vpc","title":"VPC\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_4","title":"\u57fa\u672c\u8a2d\u5b9a","text":"\u9805\u76ee \u5024 VPC CIDR 10.0.0.0/16 \u30ea\u30fc\u30b8\u30e7\u30f3 ap-northeast-1\uff08\u6771\u4eac\uff09 \u30a2\u30d9\u30a4\u30e9\u30d3\u30ea\u30c6\u30a3\u30be\u30fc\u30f3 ap-northeast-1a\u3001ap-northeast-1c DNS\u89e3\u6c7a \u6709\u52b9 DNS\u30db\u30b9\u30c8\u540d \u6709\u52b9"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#cidr","title":"CIDR\u8a2d\u8a08","text":"<pre><code>VPC: 10.0.0.0/16 (65,536 IP\u30a2\u30c9\u30ec\u30b9)\n\u251c\u2500\u2500 Public Subnet A (AZ-a): 10.0.1.0/24 (256 IP\u30a2\u30c9\u30ec\u30b9)\n\u251c\u2500\u2500 Public Subnet C (AZ-c): 10.0.2.0/24 (256 IP\u30a2\u30c9\u30ec\u30b9)\n\u251c\u2500\u2500 Private Subnet A (AZ-a): 10.0.11.0/24 (256 IP\u30a2\u30c9\u30ec\u30b9)\n\u251c\u2500\u2500 Private Subnet C (AZ-c): 10.0.12.0/24 (256 IP\u30a2\u30c9\u30ec\u30b9)\n\u2514\u2500\u2500 \u4e88\u7d04\uff08\u5c06\u6765\u62e1\u5f35\u7528\uff09: 10.0.3.0/24\u301c10.0.254.0/24\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#terraform","title":"Terraform\u8a2d\u5b9a","text":"<pre><code># VPC\nresource \"aws_vpc\" \"main\" {\n  cidr_block           = \"10.0.0.0/16\"\n  enable_dns_hostnames = true\n  enable_dns_support   = true\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-vpc\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_5","title":"\u30b5\u30d6\u30cd\u30c3\u30c8\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#public-subnet","title":"Public Subnet","text":"<p>\u7528\u9014:</p> <ul> <li>Application Load Balancer\uff08ALB\uff09</li> <li>NAT Gateway</li> <li>\u8e0f\u307f\u53f0\u30b5\u30fc\u30d0\u30fc\uff08Bastion\uff09\u203b\u958b\u767a\u6642\u306e\u307f</li> </ul> <p>\u7279\u5fb4:</p> <ul> <li>\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3078\u306e\u30eb\u30fc\u30c8</li> <li>\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u81ea\u52d5\u5272\u308a\u5f53\u3066</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Public Subnet A\uff08AZ-a\uff09\nresource \"aws_subnet\" \"public_a\" {\n  vpc_id                  = aws_vpc.main.id\n  cidr_block              = \"10.0.1.0/24\"\n  availability_zone       = \"ap-northeast-1a\"\n  map_public_ip_on_launch = true\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-public-subnet-a\"\n  }\n}\n\n# Public Subnet C\uff08AZ-c\uff09\nresource \"aws_subnet\" \"public_c\" {\n  vpc_id                  = aws_vpc.main.id\n  cidr_block              = \"10.0.2.0/24\"\n  availability_zone       = \"ap-northeast-1c\"\n  map_public_ip_on_launch = true\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-public-subnet-c\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#private-subnet","title":"Private Subnet","text":"<p>\u7528\u9014:</p> <ul> <li>ECS\u30bf\u30b9\u30af\uff08Web\u3001API\uff09</li> <li>Aurora PostgreSQL</li> <li>\u5185\u90e8\u30ea\u30bd\u30fc\u30b9\u5168\u822c</li> </ul> <p>\u7279\u5fb4:</p> <ul> <li>\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u4e0d\u53ef</li> <li>NAT Gateway\u7d4c\u7531\u3067\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u901a\u4fe1\u53ef\u80fd</li> <li>VPC Endpoint\u7d4c\u7531\u3067AWS\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u63a5\u7d9a</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Private Subnet A\uff08AZ-a\uff09\nresource \"aws_subnet\" \"private_a\" {\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = \"10.0.11.0/24\"\n  availability_zone = \"ap-northeast-1a\"\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-private-subnet-a\"\n  }\n}\n\n# Private Subnet C\uff08AZ-c\uff09\nresource \"aws_subnet\" \"private_c\" {\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = \"10.0.12.0/24\"\n  availability_zone = \"ap-northeast-1c\"\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-private-subnet-c\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_6","title":"\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#public-subnet_1","title":"Public Subnet \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb","text":"\u9001\u4fe1\u5148 \u30bf\u30fc\u30b2\u30c3\u30c8 \u8aac\u660e 10.0.0.0/16 local VPC\u5185\u901a\u4fe1 0.0.0.0/0 igw-xxx \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4 <p>\u8a2d\u5b9a:</p> <pre><code># Public Route Table\nresource \"aws_route_table\" \"public\" {\n  vpc_id = aws_vpc.main.id\n\n  route {\n    cidr_block = \"0.0.0.0/0\"\n    gateway_id = aws_internet_gateway.main.id\n  }\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-public-rt\"\n  }\n}\n\n# Public Subnet Association\nresource \"aws_route_table_association\" \"public_a\" {\n  subnet_id      = aws_subnet.public_a.id\n  route_table_id = aws_route_table.public.id\n}\n\nresource \"aws_route_table_association\" \"public_c\" {\n  subnet_id      = aws_subnet.public_c.id\n  route_table_id = aws_route_table.public.id\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#private-subnet_1","title":"Private Subnet \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb","text":"\u9001\u4fe1\u5148 \u30bf\u30fc\u30b2\u30c3\u30c8 \u8aac\u660e 10.0.0.0/16 local VPC\u5185\u901a\u4fe1 0.0.0.0/0 nat-xxx NAT Gateway <p>\u8a2d\u5b9a:</p> <pre><code># Private Route Table\nresource \"aws_route_table\" \"private\" {\n  vpc_id = aws_vpc.main.id\n\n  route {\n    cidr_block     = \"0.0.0.0/0\"\n    nat_gateway_id = aws_nat_gateway.main.id\n  }\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-private-rt\"\n  }\n}\n\n# Private Subnet Association\nresource \"aws_route_table_association\" \"private_a\" {\n  subnet_id      = aws_subnet.private_a.id\n  route_table_id = aws_route_table.private.id\n}\n\nresource \"aws_route_table_association\" \"private_c\" {\n  subnet_id      = aws_subnet.private_c.id\n  route_table_id = aws_route_table.private.id\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#internet-gateway","title":"Internet Gateway","text":"<p>\u7528\u9014:</p> <ul> <li>VPC\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u9593\u306e\u901a\u4fe1\u3092\u53ef\u80fd\u306b\u3059\u308b</li> <li>Public Subnet\u304b\u3089\u306e\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u901a\u4fe1</li> <li>Public Subnet\u3078\u306e\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u901a\u4fe1</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Internet Gateway\nresource \"aws_internet_gateway\" \"main\" {\n  vpc_id = aws_vpc.main.id\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-igw\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#nat-gateway","title":"NAT Gateway","text":"<p>\u7528\u9014:</p> <ul> <li>Private Subnet\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u901a\u4fe1</li> <li>\u30d1\u30c3\u30b1\u30fc\u30b8\u66f4\u65b0\u3001\u5916\u90e8API\u547c\u3073\u51fa\u3057\u7b49</li> </ul> <p>\u30b3\u30b9\u30c8:</p> <ul> <li>$0.059/\u6642\u9593\uff08\u7d04$43/\u6708\uff09</li> <li>\u30c7\u30fc\u30bf\u51e6\u7406\u6599\u91d1: $0.059/GB</li> </ul> <p>\u524a\u6e1b\u7b56:</p> <ul> <li>VPC Endpoint\u306e\u6d3b\u7528\uff08S3\u3001ECR\u3001CloudWatch Logs\uff09</li> <li>staging\u74b0\u5883\u3067\u306f\u7121\u52b9\u5316\u3082\u691c\u8a0e</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># Elastic IP for NAT Gateway\nresource \"aws_eip\" \"nat\" {\n  domain = \"vpc\"\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-nat-eip\"\n  }\n\n  depends_on = [aws_internet_gateway.main]\n}\n\n# NAT Gateway\uff08AZ-a \u306e\u307f\uff09\nresource \"aws_nat_gateway\" \"main\" {\n  allocation_id = aws_eip.nat.id\n  subnet_id     = aws_subnet.public_a.id\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-nat\"\n  }\n\n  depends_on = [aws_internet_gateway.main]\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#vpc-endpoint","title":"VPC Endpoint","text":"<p>\u7528\u9014:</p> <ul> <li>AWS\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u63a5\u7d9a</li> <li>NAT Gateway\u7d4c\u7531\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u6599\u91d1\u524a\u6e1b</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5411\u4e0a\uff08\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u4e0d\u8981\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#s3-gateway-endpoint","title":"S3 Gateway Endpoint","text":"<p>\u7279\u5fb4:</p> <ul> <li>Gateway\u578b\uff08\u7121\u6599\uff09</li> <li>S3\u3078\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u63a5\u7d9a</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># VPC Endpoint for S3\nresource \"aws_vpc_endpoint\" \"s3\" {\n  vpc_id            = aws_vpc.main.id\n  service_name      = \"com.amazonaws.ap-northeast-1.s3\"\n  vpc_endpoint_type = \"Gateway\"\n  route_table_ids   = [aws_route_table.private.id]\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-s3-endpoint\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#ecr-interface-endpoint","title":"ECR Interface Endpoint","text":"<p>\u7279\u5fb4:</p> <ul> <li>Interface\u578b\uff08\u6709\u6599\uff09</li> <li>ECR\u304b\u3089\u306eDocker\u30a4\u30e1\u30fc\u30b8\u30d7\u30eb\u3092\u9ad8\u901f\u5316</li> </ul> <p>\u30b3\u30b9\u30c8:</p> <ul> <li>$0.014/\u6642\u9593\uff08\u7d04$10/\u6708\uff09</li> <li>\u30c7\u30fc\u30bf\u51e6\u7406\u6599\u91d1\u524a\u6e1b\u52b9\u679c &gt; \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u6599\u91d1</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># VPC Endpoint for ECR API\nresource \"aws_vpc_endpoint\" \"ecr_api\" {\n  vpc_id              = aws_vpc.main.id\n  service_name        = \"com.amazonaws.ap-northeast-1.ecr.api\"\n  vpc_endpoint_type   = \"Interface\"\n  subnet_ids          = [aws_subnet.private_a.id, aws_subnet.private_c.id]\n  security_group_ids  = [aws_security_group.vpc_endpoint.id]\n  private_dns_enabled = true\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-ecr-api-endpoint\"\n  }\n}\n\n# VPC Endpoint for ECR DKR\nresource \"aws_vpc_endpoint\" \"ecr_dkr\" {\n  vpc_id              = aws_vpc.main.id\n  service_name        = \"com.amazonaws.ap-northeast-1.ecr.dkr\"\n  vpc_endpoint_type   = \"Interface\"\n  subnet_ids          = [aws_subnet.private_a.id, aws_subnet.private_c.id]\n  security_group_ids  = [aws_security_group.vpc_endpoint.id]\n  private_dns_enabled = true\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-ecr-dkr-endpoint\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#cloudwatch-logs-interface-endpoint","title":"CloudWatch Logs Interface Endpoint","text":"<p>\u7279\u5fb4:</p> <ul> <li>Interface\u578b\uff08\u6709\u6599\uff09</li> <li>CloudWatch Logs\u3078\u306e\u30ed\u30b0\u9001\u4fe1\u3092\u9ad8\u901f\u5316</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># VPC Endpoint for CloudWatch Logs\nresource \"aws_vpc_endpoint\" \"logs\" {\n  vpc_id              = aws_vpc.main.id\n  service_name        = \"com.amazonaws.ap-northeast-1.logs\"\n  vpc_endpoint_type   = \"Interface\"\n  subnet_ids          = [aws_subnet.private_a.id, aws_subnet.private_c.id]\n  security_group_ids  = [aws_security_group.vpc_endpoint.id]\n  private_dns_enabled = true\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-logs-endpoint\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_7","title":"\u9ad8\u53ef\u7528\u6027\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#az","title":"\u30de\u30eb\u30c1AZ\u69cb\u6210","text":"<p>\u76ee\u7684:</p> <ul> <li>\u5358\u4e00\u969c\u5bb3\u70b9\uff08SPOF\uff09\u306e\u6392\u9664</li> <li>\u53ef\u7528\u602799.99\uff05\u4ee5\u4e0a\u3092\u5b9f\u73fe</li> </ul> <p>\u69cb\u6210:</p> <ul> <li>ALB: 2 AZ\uff08ap-northeast-1a\u3001ap-northeast-1c\uff09</li> <li>ECS\u30bf\u30b9\u30af: \u5404AZ\u306b\u6700\u4f4e1\u30bf\u30b9\u30af</li> <li>Aurora: \u30de\u30eb\u30c1AZ\u81ea\u52d5\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_8","title":"\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc","text":"<p>ALB:</p> <ul> <li>\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u5931\u6557\u6642\u306b\u81ea\u52d5\u5207\u308a\u66ff\u3048</li> <li>\u30af\u30ed\u30b9\u30be\u30fc\u30f3\u8ca0\u8377\u5206\u6563\u6709\u52b9</li> </ul> <p>Aurora:</p> <ul> <li>\u30d7\u30e9\u30a4\u30de\u30ea\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u969c\u5bb3\u6642\u306b\u81ea\u52d5\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc</li> <li>RPO\uff08Recovery Point Objective\uff09: 0\u79d2</li> <li>RTO\uff08Recovery Time Objective\uff09: 1\u301c2\u5206</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_9","title":"\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u30d5\u30ed\u30fc","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#web","title":"\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\uff08\u30e6\u30fc\u30b6\u30fc \u2192 Web\uff09","text":"<pre><code>Internet\n  \u2193\nRoute53\uff08DNS\uff09\n  \u2193\nCloudFront\uff08CDN\uff09\n  \u2193\nALB\uff08Public Subnet\uff09\n  \u2193\nECS\u30bf\u30b9\u30af Web\uff08Private Subnet\uff09\n  \u2193\nECS\u30bf\u30b9\u30af API\uff08Private Subnet\uff09\n  \u2193\nAurora PostgreSQL\uff08Private Subnet\uff09\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#private-subnet-internet","title":"\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\uff08Private Subnet \u2192 Internet\uff09","text":"<pre><code>ECS\u30bf\u30b9\u30af\uff08Private Subnet\uff09\n  \u2193\nNAT Gateway\uff08Public Subnet\uff09\n  \u2193\nInternet Gateway\n  \u2193\nInternet\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#awsprivate-subnet-s3ecr","title":"AWS\u30b5\u30fc\u30d3\u30b9\u30a2\u30af\u30bb\u30b9\uff08Private Subnet \u2192 S3/ECR\uff09","text":"<pre><code>ECS\u30bf\u30b9\u30af\uff08Private Subnet\uff09\n  \u2193\nVPC Endpoint\n  \u2193\nAWS\u30b5\u30fc\u30d3\u30b9\uff08S3\u3001ECR\u3001CloudWatch Logs\uff09\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_10","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#acl","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30afACL","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a:</p> <ul> <li>\u3059\u3079\u3066\u306e\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u30fb\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u8a31\u53ef</li> <li>Security Group\u3067\u5236\u5fa1\u3059\u308b\u305f\u3081\u3001NACL\u306f\u4f7f\u7528\u3057\u306a\u3044</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_11","title":"\u30d5\u30ed\u30fc\u30ed\u30b0","text":"<p>\u7528\u9014:</p> <ul> <li>\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u76e3\u8996</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5206\u6790</li> <li>\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0</li> </ul> <p>\u8a2d\u5b9a:</p> <pre><code># CloudWatch Log Group for VPC Flow Logs\nresource \"aws_cloudwatch_log_group\" \"vpc_flow_log\" {\n  name              = \"/aws/vpc/${var.project_name}-${var.environment}\"\n  retention_in_days = 7\n}\n\n# VPC Flow Log\nresource \"aws_flow_log\" \"main\" {\n  iam_role_arn    = aws_iam_role.vpc_flow_log.arn\n  log_destination = aws_cloudwatch_log_group.vpc_flow_log.arn\n  traffic_type    = \"ALL\"\n  vpc_id          = aws_vpc.main.id\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_12","title":"\u30b3\u30b9\u30c8\u6700\u9069\u5316","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_13","title":"\u63a8\u5968\u8a2d\u5b9a","text":"\u9805\u76ee \u672c\u756a\u74b0\u5883 Staging\u74b0\u5883 NAT Gateway \u6709\u52b9\uff081 AZ\uff09 \u7121\u52b9 VPC Endpoint\uff08S3\uff09 \u6709\u52b9 \u6709\u52b9 VPC Endpoint\uff08ECR\uff09 \u6709\u52b9 \u7121\u52b9 VPC Endpoint\uff08Logs\uff09 \u6709\u52b9 \u7121\u52b9 Private Subnet \u4f7f\u7528 \u30d1\u30d6\u30ea\u30c3\u30af\u30b5\u30d6\u30cd\u30c3\u30c8\u4f7f\u7528\u53ef"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_14","title":"\u30b3\u30b9\u30c8\u6bd4\u8f03","text":"<p>NAT Gateway\u4f7f\u7528:</p> <ul> <li>NAT Gateway: $43/\u6708</li> <li>\u30c7\u30fc\u30bf\u51e6\u7406: $30/\u6708\uff08\u60f3\u5b9a\uff09</li> <li>\u5408\u8a08: $73/\u6708</li> </ul> <p>VPC Endpoint\u4f7f\u7528:</p> <ul> <li>S3 Endpoint: $0/\u6708\uff08Gateway\u578b\uff09</li> <li>ECR Endpoint: $10/\u6708</li> <li>Logs Endpoint: $10/\u6708</li> <li>\u30c7\u30fc\u30bf\u51e6\u7406\u524a\u6e1b: -$20/\u6708</li> <li>\u5408\u8a08: $0/\u6708\uff08\u524a\u6e1b\u52b9\u679c: $73 \u2192 $20\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_15","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#private-subnet_2","title":"Private Subnet\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044","text":"<p>\u539f\u56e0:</p> <ul> <li>NAT Gateway\u304c\u5b58\u5728\u3057\u306a\u3044</li> <li>\u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306bNAT Gateway\u3078\u306e\u30eb\u30fc\u30c8\u304c\u306a\u3044</li> </ul> <p>\u89e3\u6c7a\u7b56:</p> <pre><code># NAT Gateway\u306e\u78ba\u8a8d\naws ec2 describe-nat-gateways --filter \"Name=vpc-id,Values=vpc-xxx\"\n\n# \u30eb\u30fc\u30c8\u30c6\u30fc\u30d6\u30eb\u306e\u78ba\u8a8d\naws ec2 describe-route-tables --filters \"Name=vpc-id,Values=vpc-xxx\"\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#vpc-endpoint_1","title":"VPC Endpoint\u304c\u6a5f\u80fd\u3057\u306a\u3044","text":"<p>\u539f\u56e0:</p> <ul> <li>Security Group\u3067\u30dd\u30fc\u30c8443\u304c\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044</li> <li>Private DNS\u6709\u52b9\u5316\u3055\u308c\u3066\u3044\u306a\u3044</li> </ul> <p>\u89e3\u6c7a\u7b56:</p> <pre><code># VPC Endpoint\u306e\u78ba\u8a8d\naws ec2 describe-vpc-endpoints --filters \"Name=vpc-id,Values=vpc-xxx\"\n\n# Security Group\u306e\u78ba\u8a8d\naws ec2 describe-security-groups --group-ids sg-xxx\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/05-network/#_16","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>AWS VPC Documentation</li> <li>VPC Endpoints</li> <li>NAT Gateway</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_2","title":"\u6982\u8981","text":"<p>\u672c\u756a\u74b0\u5883\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u8a08\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002OWASP Top 10\u5bfe\u7b56\u3001AWS\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3001\u6700\u5c0f\u6a29\u9650\u306e\u539f\u5247\u306b\u57fa\u3065\u3044\u3066\u8a2d\u8a08\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_3","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30a4\u30e4\u30fc\u69cb\u6210","text":"<pre><code>graph TD\n    Internet[\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8]\n\n    subgraph \"\u5916\u90e8\u9632\u5fa1\u5c64\"\n        WAF[WAF&lt;br&gt;Web Application Firewall]\n        CF[CloudFront&lt;br&gt;DDoS Protection]\n    end\n\n    subgraph \"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5c64\"\n        ALB[ALB&lt;br&gt;HTTPS/TLS\u7d42\u7aef]\n        SG_ALB[Security Group&lt;br&gt;ALB]\n    end\n\n    subgraph \"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5c64\"\n        SG_ECS[Security Group&lt;br&gt;ECS]\n        ECS[ECS Fargate&lt;br&gt;\u30b3\u30f3\u30c6\u30ca\u5206\u96e2]\n    end\n\n    subgraph \"\u30c7\u30fc\u30bf\u5c64\"\n        SG_DB[Security Group&lt;br&gt;Aurora]\n        Aurora[Aurora PostgreSQL&lt;br&gt;\u6697\u53f7\u5316]\n        SSM[SSM Parameter Store&lt;br&gt;\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u7ba1\u7406]\n    end\n\n    subgraph \"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u5c64\"\n        IAM[IAM&lt;br&gt;\u30ed\u30fc\u30eb\u30fb\u30dd\u30ea\u30b7\u30fc]\n    end\n\n    Internet --&gt; WAF\n    WAF --&gt; CF\n    CF --&gt; ALB\n    ALB --&gt; SG_ALB\n    SG_ALB --&gt; SG_ECS\n    SG_ECS --&gt; ECS\n    ECS --&gt; SG_DB\n    SG_DB --&gt; Aurora\n    ECS --&gt; SSM\n    ECS --&gt; IAM\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#wafweb-application-firewall","title":"WAF\uff08Web Application Firewall\uff09","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_4","title":"\u76ee\u7684","text":"<ul> <li>SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u9632\u6b62</li> <li>XSS\uff08Cross-Site Scripting\uff09\u9632\u6b62</li> <li>\u4e0d\u6b63\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d6\u30ed\u30c3\u30af</li> <li>\u30ec\u30fc\u30c8\u30ea\u30df\u30c3\u30c8</li> <li>\u5730\u57df\u30d6\u30ed\u30c3\u30af</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#aws-managed-rules","title":"AWS Managed Rules","text":"<p>Core Rule Set\uff08CRS\uff09:</p> <ul> <li>SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3</li> <li>XSS</li> <li>Local File Inclusion\uff08LFI\uff09</li> <li>Remote File Inclusion\uff08RFI\uff09</li> <li>\u30b3\u30de\u30f3\u30c9\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3</li> </ul> <p>Known Bad Inputs:</p> <ul> <li>\u65e2\u77e5\u306e\u8106\u5f31\u6027\u30d1\u30bf\u30fc\u30f3</li> <li>\u60aa\u610f\u306e\u3042\u308b\u30dc\u30c3\u30c8\u30b7\u30b0\u30cd\u30c1\u30e3</li> </ul> <p>IP Reputation List:</p> <ul> <li>\u65e2\u77e5\u306e\u60aa\u610f\u306e\u3042\u308bIP\u30a2\u30c9\u30ec\u30b9</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_5","title":"\u30ab\u30b9\u30bf\u30e0\u30eb\u30fc\u30eb","text":"<p>\u30ec\u30fc\u30c8\u30ea\u30df\u30c3\u30c8:</p> <ul> <li>\u540c\u4e00IP\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8: 1000\u30ea\u30af\u30a8\u30b9\u30c8/5\u5206</li> <li>\u7ba1\u7406\u753b\u9762\u30ed\u30b0\u30a4\u30f3\u8a66\u884c: 10\u56de/5\u5206</li> </ul> <p>\u5730\u57df\u30d6\u30ed\u30c3\u30af:</p> <ul> <li>\u65e5\u672c\u4ee5\u5916\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u5236\u9650\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#terraform","title":"Terraform\u8a2d\u5b9a","text":"<pre><code># WAF Web ACL\nresource \"aws_wafv2_web_acl\" \"main\" {\n  name  = \"${var.project_name}-${var.environment}-waf\"\n  scope = \"CLOUDFRONT\"\n\n  default_action {\n    allow {}\n  }\n\n  # AWS Managed Rules - Core Rule Set\n  rule {\n    name     = \"AWSManagedRulesCommonRuleSet\"\n    priority = 1\n\n    override_action {\n      none {}\n    }\n\n    statement {\n      managed_rule_group_statement {\n        vendor_name = \"AWS\"\n        name        = \"AWSManagedRulesCommonRuleSet\"\n      }\n    }\n\n    visibility_config {\n      cloudwatch_metrics_enabled = true\n      metric_name                = \"AWSManagedRulesCommonRuleSetMetric\"\n      sampled_requests_enabled   = true\n    }\n  }\n\n  # AWS Managed Rules - Known Bad Inputs\n  rule {\n    name     = \"AWSManagedRulesKnownBadInputsRuleSet\"\n    priority = 2\n\n    override_action {\n      none {}\n    }\n\n    statement {\n      managed_rule_group_statement {\n        vendor_name = \"AWS\"\n        name        = \"AWSManagedRulesKnownBadInputsRuleSet\"\n      }\n    }\n\n    visibility_config {\n      cloudwatch_metrics_enabled = true\n      metric_name                = \"AWSManagedRulesKnownBadInputsRuleSetMetric\"\n      sampled_requests_enabled   = true\n    }\n  }\n\n  # Rate Limiting\n  rule {\n    name     = \"RateLimitRule\"\n    priority = 3\n\n    action {\n      block {}\n    }\n\n    statement {\n      rate_based_statement {\n        limit              = 1000\n        aggregate_key_type = \"IP\"\n      }\n    }\n\n    visibility_config {\n      cloudwatch_metrics_enabled = true\n      metric_name                = \"RateLimitRuleMetric\"\n      sampled_requests_enabled   = true\n    }\n  }\n\n  visibility_config {\n    cloudwatch_metrics_enabled = true\n    metric_name                = \"${var.project_name}-${var.environment}-waf\"\n    sampled_requests_enabled   = true\n  }\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-waf\"\n  }\n}\n\n# WAF Association with CloudFront\nresource \"aws_wafv2_web_acl_association\" \"cloudfront\" {\n  resource_arn = aws_cloudfront_distribution.main.arn\n  web_acl_arn  = aws_wafv2_web_acl.main.arn\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#security-group","title":"Security Group","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_6","title":"\u8a2d\u8a08\u539f\u5247","text":"<ol> <li>\u6700\u5c0f\u6a29\u9650\u306e\u539f\u5247: \u5fc5\u8981\u6700\u5c0f\u9650\u306e\u30dd\u30fc\u30c8\u306e\u307f\u958b\u653e</li> <li>\u968e\u5c64\u7684\u5236\u5fa1: \u5404\u30ec\u30a4\u30e4\u30fc\u3054\u3068\u306b\u72ec\u7acb\u3057\u305fSecurity Group</li> <li>\u9001\u4fe1\u5143\u5236\u9650: IP\u30a2\u30c9\u30ec\u30b9\u3067\u306f\u306a\u304fSecurity Group ID\u3067\u5236\u5fa1</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#alb-security-group","title":"ALB Security Group","text":"<p>\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9:</p> \u30d7\u30ed\u30c8\u30b3\u30eb \u30dd\u30fc\u30c8 \u9001\u4fe1\u5143 \u8aac\u660e TCP 80 0.0.0.0/0 HTTP\uff08HTTPS \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\uff09 TCP 443 0.0.0.0/0 HTTPS <p>\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9:</p> \u30d7\u30ed\u30c8\u30b3\u30eb \u30dd\u30fc\u30c8 \u9001\u4fe1\u5148 \u8aac\u660e TCP 3000-3001 ECS Security Group ECS\u30bf\u30b9\u30af\u3078\u306e\u8ee2\u9001 <p>Terraform\u8a2d\u5b9a:</p> <pre><code># ALB Security Group\nresource \"aws_security_group\" \"alb\" {\n  name        = \"${var.project_name}-${var.environment}-alb-sg\"\n  description = \"Security group for ALB\"\n  vpc_id      = var.vpc_id\n\n  ingress {\n    description = \"HTTP from Internet\"\n    from_port   = 80\n    to_port     = 80\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  ingress {\n    description = \"HTTPS from Internet\"\n    from_port   = 443\n    to_port     = 443\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  egress {\n    description     = \"To ECS tasks\"\n    from_port       = 3000\n    to_port         = 3001\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.ecs.id]\n  }\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-alb-sg\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#ecs-security-group","title":"ECS Security Group","text":"<p>\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9:</p> \u30d7\u30ed\u30c8\u30b3\u30eb \u30dd\u30fc\u30c8 \u9001\u4fe1\u5143 \u8aac\u660e TCP 3000 ALB Security Group Web\u30b3\u30f3\u30c6\u30ca TCP 3001 ALB Security Group API\u30b3\u30f3\u30c6\u30ca <p>\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9:</p> \u30d7\u30ed\u30c8\u30b3\u30eb \u30dd\u30fc\u30c8 \u9001\u4fe1\u5148 \u8aac\u660e TCP 5432 Aurora Security Group PostgreSQL TCP 27017 0.0.0.0/0 MongoDB Atlas\uff08\u5916\u90e8\uff09 TCP 443 0.0.0.0/0 HTTPS\uff08\u5916\u90e8API\u3001VPC Endpoint\uff09 <p>Terraform\u8a2d\u5b9a:</p> <pre><code># ECS Security Group\nresource \"aws_security_group\" \"ecs\" {\n  name        = \"${var.project_name}-${var.environment}-ecs-sg\"\n  description = \"Security group for ECS tasks\"\n  vpc_id      = var.vpc_id\n\n  ingress {\n    description     = \"Web container port from ALB\"\n    from_port       = 3000\n    to_port         = 3000\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.alb.id]\n  }\n\n  ingress {\n    description     = \"API container port from ALB\"\n    from_port       = 3001\n    to_port         = 3001\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.alb.id]\n  }\n\n  egress {\n    description     = \"To Aurora PostgreSQL\"\n    from_port       = 5432\n    to_port         = 5432\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.aurora.id]\n  }\n\n  egress {\n    description = \"To MongoDB Atlas\"\n    from_port   = 27017\n    to_port     = 27017\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  egress {\n    description = \"HTTPS to Internet and VPC Endpoints\"\n    from_port   = 443\n    to_port     = 443\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-ecs-sg\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#aurora-security-group","title":"Aurora Security Group","text":"<p>\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9:</p> \u30d7\u30ed\u30c8\u30b3\u30eb \u30dd\u30fc\u30c8 \u9001\u4fe1\u5143 \u8aac\u660e TCP 5432 ECS Security Group ECS\u30bf\u30b9\u30af\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9 <p>\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9:</p> \u30d7\u30ed\u30c8\u30b3\u30eb \u30dd\u30fc\u30c8 \u9001\u4fe1\u5148 \u8aac\u660e - - - \u306a\u3057 <p>Terraform\u8a2d\u5b9a:</p> <pre><code># Aurora Security Group\nresource \"aws_security_group\" \"aurora\" {\n  name        = \"${var.project_name}-${var.environment}-aurora-sg\"\n  description = \"Security group for Aurora PostgreSQL\"\n  vpc_id      = var.vpc_id\n\n  ingress {\n    description     = \"PostgreSQL from ECS tasks\"\n    from_port       = 5432\n    to_port         = 5432\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.ecs.id]\n  }\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-aurora-sg\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#vpc-endpoint-security-group","title":"VPC Endpoint Security Group","text":"<p>\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9:</p> \u30d7\u30ed\u30c8\u30b3\u30eb \u30dd\u30fc\u30c8 \u9001\u4fe1\u5143 \u8aac\u660e TCP 443 ECS Security Group VPC Endpoint\u3078\u306e\u30a2\u30af\u30bb\u30b9 <p>Terraform\u8a2d\u5b9a:</p> <pre><code># VPC Endpoint Security Group\nresource \"aws_security_group\" \"vpc_endpoint\" {\n  name        = \"${var.project_name}-${var.environment}-vpc-endpoint-sg\"\n  description = \"Security group for VPC Endpoints\"\n  vpc_id      = var.vpc_id\n\n  ingress {\n    description     = \"HTTPS from ECS tasks\"\n    from_port       = 443\n    to_port         = 443\n    protocol        = \"tcp\"\n    security_groups = [aws_security_group.ecs.id]\n  }\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-vpc-endpoint-sg\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#iam","title":"IAM\uff08\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30a2\u30af\u30bb\u30b9\u7ba1\u7406\uff09","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_7","title":"\u8a2d\u8a08\u539f\u5247","text":"<ol> <li>\u6700\u5c0f\u6a29\u9650\u306e\u539f\u5247: \u5fc5\u8981\u6700\u5c0f\u9650\u306e\u6a29\u9650\u306e\u307f\u4ed8\u4e0e</li> <li>\u30ed\u30fc\u30eb\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9\u5236\u5fa1: IAM\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u306a\u304fIAM\u30ed\u30fc\u30eb\u3092\u4f7f\u7528</li> <li>\u660e\u793a\u7684\u306a\u62d2\u5426: \u5fc5\u8981\u306b\u5fdc\u3058\u3066Deny\u30dd\u30ea\u30b7\u30fc\u3092\u4f7f\u7528</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#ecs-task-execution-role","title":"ECS Task Execution Role","text":"<p>\u7528\u9014:</p> <ul> <li>ECR\u304b\u3089\u306e\u30a4\u30e1\u30fc\u30b8\u30d7\u30eb</li> <li>CloudWatch Logs\u3078\u306e\u30ed\u30b0\u66f8\u304d\u8fbc\u307f</li> <li>SSM Parameter Store\u304b\u3089\u306e\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u53d6\u5f97</li> </ul> <p>Terraform\u8a2d\u5b9a:</p> <pre><code># ECS Task Execution Role\nresource \"aws_iam_role\" \"ecs_execution_role\" {\n  name = \"${var.project_name}-${var.environment}-ecs-execution-role\"\n\n  assume_role_policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = \"sts:AssumeRole\"\n        Effect = \"Allow\"\n        Principal = {\n          Service = \"ecs-tasks.amazonaws.com\"\n        }\n      }\n    ]\n  })\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-ecs-execution-role\"\n  }\n}\n\n# AWS Managed Policy\nresource \"aws_iam_role_policy_attachment\" \"ecs_execution_role_policy\" {\n  role       = aws_iam_role.ecs_execution_role.name\n  policy_arn = \"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy\"\n}\n\n# SSM Parameter Store Access\nresource \"aws_iam_role_policy\" \"ecs_ssm_policy\" {\n  name = \"${var.project_name}-${var.environment}-ecs-ssm-policy\"\n  role = aws_iam_role.ecs_execution_role.id\n\n  policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = [\n          \"ssm:GetParameters\",\n          \"ssm:GetParameter\"\n        ]\n        Effect = \"Allow\"\n        Resource = [\n          \"arn:aws:ssm:${var.aws_region}:${data.aws_caller_identity.current.account_id}:parameter/${var.project_name}/${var.environment}/*\"\n        ]\n      },\n      {\n        Action = [\n          \"kms:Decrypt\"\n        ]\n        Effect = \"Allow\"\n        Resource = [\n          \"arn:aws:kms:${var.aws_region}:${data.aws_caller_identity.current.account_id}:key/*\"\n        ]\n      }\n    ]\n  })\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#ecs-task-role","title":"ECS Task Role","text":"<p>\u7528\u9014:</p> <ul> <li>S3\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9</li> <li>SSM\u30bb\u30c3\u30b7\u30e7\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u63a5\u7d9a</li> <li>\u305d\u306e\u4ed6\u306eAWS\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9</li> </ul> <p>Terraform\u8a2d\u5b9a:</p> <pre><code># ECS Task Role\nresource \"aws_iam_role\" \"ecs_task_role\" {\n  name = \"${var.project_name}-${var.environment}-ecs-task-role\"\n\n  assume_role_policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = \"sts:AssumeRole\"\n        Effect = \"Allow\"\n        Principal = {\n          Service = \"ecs-tasks.amazonaws.com\"\n        }\n      }\n    ]\n  })\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-ecs-task-role\"\n  }\n}\n\n# S3 Access Policy\nresource \"aws_iam_role_policy\" \"ecs_s3_policy\" {\n  name = \"${var.project_name}-${var.environment}-ecs-s3-policy\"\n  role = aws_iam_role.ecs_task_role.id\n\n  policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = [\n          \"s3:GetObject\",\n          \"s3:PutObject\",\n          \"s3:DeleteObject\"\n        ]\n        Effect = \"Allow\"\n        Resource = [\n          \"${aws_s3_bucket.assets.arn}/*\"\n        ]\n      },\n      {\n        Action = [\n          \"s3:ListBucket\"\n        ]\n        Effect = \"Allow\"\n        Resource = [\n          aws_s3_bucket.assets.arn\n        ]\n      }\n    ]\n  })\n}\n\n# SSM Session Manager Policy\nresource \"aws_iam_role_policy\" \"ecs_ssm_session_policy\" {\n  name = \"${var.project_name}-${var.environment}-ecs-ssm-session-policy\"\n  role = aws_iam_role.ecs_task_role.id\n\n  policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [\n      {\n        Action = [\n          \"ssmmessages:CreateControlChannel\",\n          \"ssmmessages:CreateDataChannel\",\n          \"ssmmessages:OpenControlChannel\",\n          \"ssmmessages:OpenDataChannel\"\n        ]\n        Effect = \"Allow\"\n        Resource = \"*\"\n      }\n    ]\n  })\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_8","title":"\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u7ba1\u7406","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#ssm-parameter-store","title":"SSM Parameter Store","text":"<p>\u7ba1\u7406\u5bfe\u8c61:</p> <ul> <li>DATABASE_URL\uff08Aurora\u63a5\u7d9a\u6587\u5b57\u5217\uff09</li> <li>MONGODB_URI\uff08MongoDB\u63a5\u7d9a\u6587\u5b57\u5217\uff09</li> <li>JWT_SECRET\uff08JWT\u7f72\u540d\u9375\uff09</li> <li>DATADOG_API_KEY</li> <li>SENTRY_DSN</li> <li>\u305d\u306e\u4ed6\u306eAPI\u30ad\u30fc</li> </ul> <p>\u6697\u53f7\u5316:</p> <ul> <li>AWS KMS\uff08Key Management Service\uff09\u306b\u3088\u308b\u6697\u53f7\u5316</li> <li>SecureString\u30bf\u30a4\u30d7\u3092\u4f7f\u7528</li> </ul> <p>\u30a2\u30af\u30bb\u30b9\u5236\u5fa1:</p> <ul> <li>IAM\u30ed\u30fc\u30eb\u306b\u3088\u308b\u53b3\u683c\u306a\u6a29\u9650\u7ba1\u7406</li> <li>\u30d1\u30e9\u30e1\u30fc\u30bf\u30d1\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1</li> </ul> <p>Terraform\u8a2d\u5b9a:</p> <pre><code># DATABASE_URL\nresource \"aws_ssm_parameter\" \"database_url\" {\n  name        = \"/${var.project_name}/${var.environment}/DATABASE_URL\"\n  description = \"Database connection URL for Prisma\"\n  type        = \"SecureString\"\n  value       = \"postgresql://${var.db_username}:${random_password.aurora_password.result}@${aws_rds_cluster.main.endpoint}:5432/${var.db_name}?schema=public\"\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-database-url\"\n  }\n}\n\n# MONGODB_URI\nresource \"aws_ssm_parameter\" \"mongodb_uri\" {\n  name        = \"/${var.project_name}/${var.environment}/MONGODB_URI\"\n  description = \"MongoDB connection string\"\n  type        = \"SecureString\"\n  value       = var.mongodb_uri\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-mongodb-uri\"\n  }\n}\n\n# JWT_SECRET\nresource \"aws_ssm_parameter\" \"jwt_secret\" {\n  name        = \"/${var.project_name}/${var.environment}/JWT_SECRET\"\n  description = \"JWT signing secret\"\n  type        = \"SecureString\"\n  value       = random_password.jwt_secret.result\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-jwt-secret\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_9","title":"\u30c7\u30fc\u30bf\u6697\u53f7\u5316","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_10","title":"\u4fdd\u7ba1\u6642\u306e\u6697\u53f7\u5316","text":"<p>Aurora PostgreSQL:</p> <ul> <li>AWS KMS\u306b\u3088\u308b\u6697\u53f7\u5316</li> <li>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u5316</li> </ul> <p>S3:</p> <ul> <li>AES-256\u6697\u53f7\u5316</li> <li>\u30b5\u30fc\u30d0\u30fc\u5074\u6697\u53f7\u5316\uff08SSE-S3\uff09</li> </ul> <p>CloudWatch Logs:</p> <ul> <li>KMS\u6697\u53f7\u5316\u30aa\u30d7\u30b7\u30e7\u30f3</li> </ul> <p>Terraform\u8a2d\u5b9a:</p> <pre><code># Aurora\u6697\u53f7\u5316\nresource \"aws_rds_cluster\" \"main\" {\n  # ... \u4ed6\u306e\u8a2d\u5b9a ...\n\n  storage_encrypted = true\n  kms_key_id        = aws_kms_key.rds.arn\n}\n\n# S3\u6697\u53f7\u5316\nresource \"aws_s3_bucket_server_side_encryption_configuration\" \"assets\" {\n  bucket = aws_s3_bucket.assets.id\n\n  rule {\n    apply_server_side_encryption_by_default {\n      sse_algorithm = \"AES256\"\n    }\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_11","title":"\u8ee2\u9001\u6642\u306e\u6697\u53f7\u5316","text":"<p>HTTPS/TLS:</p> <ul> <li>CloudFront: TLS 1.2\u4ee5\u4e0a</li> <li>ALB: TLS 1.2\u4ee5\u4e0a</li> <li>Aurora: TLS 1.2\u4ee5\u4e0a</li> <li>MongoDB Atlas: TLS 1.2\u4ee5\u4e0a</li> </ul> <p>Terraform\u8a2d\u5b9a:</p> <pre><code># ALB HTTPS Listener\nresource \"aws_lb_listener\" \"https\" {\n  load_balancer_arn = aws_lb.main.arn\n  port              = \"443\"\n  protocol          = \"HTTPS\"\n  ssl_policy        = \"ELBSecurityPolicy-TLS-1-2-2017-01\"\n  certificate_arn   = aws_acm_certificate.main.arn\n\n  default_action {\n    type             = \"forward\"\n    target_group_arn = aws_lb_target_group.web.arn\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#owasp-top-10","title":"OWASP Top 10\u5bfe\u7b56","text":"\u8105\u5a01 \u5bfe\u7b56 A01: Broken Access Control IAM\u30ed\u30fc\u30eb\u3001Security Group\u3001WAF A02: Cryptographic Failures KMS\u6697\u53f7\u5316\u3001TLS 1.2\u4ee5\u4e0a A03: Injection WAF\uff08SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u5bfe\u7b56\uff09\u3001Prisma\uff08\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u30af\u30a8\u30ea\uff09 A04: Insecure Design \u30bb\u30ad\u30e5\u30a2\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u8a2d\u8a08 A05: Security Misconfiguration Terraform\u306b\u3088\u308b\u4e00\u8cab\u6027\u306e\u3042\u308b\u8a2d\u5b9a\u7ba1\u7406 A06: Vulnerable Components \u5b9a\u671f\u7684\u306a\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u66f4\u65b0\u3001Dependabot A07: Authentication Failures JWT\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u3001\u30ec\u30fc\u30c8\u30ea\u30df\u30c3\u30c8 A08: Software and Data Integrity Failures \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u7f72\u540d\u3001GitHub Actions\u691c\u8a3c A09: Security Logging and Monitoring CloudWatch\u3001Datadog\u3001Sentry A10: Server-Side Request Forgery (SSRF) VPC\u5206\u96e2\u3001\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u5236\u9650"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_12","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u76e3\u8996","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#cloudwatch-alarms","title":"CloudWatch Alarms","text":"<p>\u76e3\u8996\u9805\u76ee:</p> <ul> <li>\u7570\u5e38\u306a\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u5897\u52a0</li> <li>5xx\u30a8\u30e9\u30fc\u7387\u4e0a\u6607</li> <li>\u4e0d\u6b63\u306a\u30ed\u30b0\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3</li> <li>WAF\u30d6\u30ed\u30c3\u30af\u6570\u5897\u52a0</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#datadog","title":"Datadog","text":"<p>\u76e3\u8996\u9805\u76ee:</p> <ul> <li>APM\uff08\u30c8\u30ec\u30fc\u30b9\uff09</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8</li> <li>\u7570\u5e38\u691c\u77e5</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#sentry","title":"Sentry","text":"<p>\u76e3\u8996\u9805\u76ee:</p> <ul> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc</li> <li>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u4f4e\u4e0b</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u95a2\u9023\u306e\u4f8b\u5916</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_13","title":"\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u5bfe\u5fdc","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_14","title":"\u624b\u9806","text":"<ol> <li>\u691c\u77e5: CloudWatch / Datadog / Sentry\u306b\u3088\u308b\u81ea\u52d5\u30a2\u30e9\u30fc\u30c8</li> <li>\u521d\u52d5\u5bfe\u5fdc: \u5f71\u97ff\u7bc4\u56f2\u306e\u7279\u5b9a\u3001\u4e00\u6642\u7684\u306a\u7de9\u548c\u7b56</li> <li>\u8abf\u67fb: \u30ed\u30b0\u5206\u6790\u3001\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u5206\u6790</li> <li>\u6052\u4e45\u5bfe\u7b56: \u8106\u5f31\u6027\u4fee\u6b63\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5f37\u5316</li> <li>\u4e8b\u5f8c\u5206\u6790: \u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210\u3001\u518d\u767a\u9632\u6b62\u7b56</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_15","title":"\u30a8\u30b9\u30ab\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<ol> <li>\u958b\u767a\u30c1\u30fc\u30e0 \u2192 \u30c1\u30fc\u30e0\u30ea\u30fc\u30c0\u30fc</li> <li>\u30c1\u30fc\u30e0\u30ea\u30fc\u30c0\u30fc \u2192 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8cac\u4efb\u8005</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8cac\u4efb\u8005 \u2192 \u7d4c\u55b6\u5c64</li> </ol>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_16","title":"\u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_17","title":"\u30c7\u30fc\u30bf\u4fdd\u8b77","text":"<ul> <li>\u500b\u4eba\u60c5\u5831: \u6697\u53f7\u5316\u3001\u30a2\u30af\u30bb\u30b9\u5236\u5fa1</li> <li>\u30ed\u30b0\u4fdd\u6301\u671f\u9593: \u6cd5\u4ee4\u6e96\u62e0\uff08\u6700\u4f4e1\u5e74\uff09</li> <li>\u30d0\u30c3\u30af\u30a2\u30c3\u30d7: 7\u65e5\u9593\u4fdd\u6301</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_18","title":"\u76e3\u67fb\u30ed\u30b0","text":"<ul> <li>CloudTrail: AWS\u30ea\u30bd\u30fc\u30b9\u64cd\u4f5c\u30ed\u30b0</li> <li>VPC\u30d5\u30ed\u30fc\u30ed\u30b0: \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d5\u30a3\u30c3\u30af</li> <li>CloudWatch Logs: \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_19","title":"\u5b9a\u671f\u7684\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30d3\u30e5\u30fc","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_20","title":"\u6708\u6b21","text":"<ul> <li>WAF\u30ed\u30b0\u30ec\u30d3\u30e5\u30fc</li> <li>Security Group\u30eb\u30fc\u30eb\u30ec\u30d3\u30e5\u30fc</li> <li>IAM\u30dd\u30ea\u30b7\u30fc\u30ec\u30d3\u30e5\u30fc</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_21","title":"\u56db\u534a\u671f","text":"<ul> <li>\u8106\u5f31\u6027\u30b9\u30ad\u30e3\u30f3</li> <li>\u30da\u30cd\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\uff08\u5916\u90e8\u59d4\u8a17\uff09</li> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d1\u30c3\u30c1\u9069\u7528</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_22","title":"\u5e74\u6b21","text":"<ul> <li>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u76e3\u67fb\uff08\u5916\u90e8\u59d4\u8a17\uff09</li> <li>\u30c7\u30a3\u30b6\u30b9\u30bf\u30ea\u30ab\u30d0\u30ea\u8a13\u7df4</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/06-security/#_23","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>AWS Security Best Practices</li> <li>OWASP Top 10</li> <li>AWS WAF Documentation</li> <li>AWS IAM Documentation</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_2","title":"\u6982\u8981","text":"<p>\u672c\u756a\u74b0\u5883\u306e\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u30fb\u30ed\u30ae\u30f3\u30b0\u30fb\u30a2\u30e9\u30fc\u30c8\u8a2d\u8a08\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002\u53ef\u7528\u602799.9\uff05\u4ee5\u4e0a\u3092\u7dad\u6301\u3057\u3001\u969c\u5bb3\u3092\u65e9\u671f\u691c\u77e5\u30fb\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_3","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u5168\u4f53\u50cf","text":"<pre><code>graph TD\n    subgraph \"AWS\"\n        ECS[ECS Fargate]\n        Aurora[Aurora PostgreSQL]\n        ALB[ALB]\n        CloudWatch[CloudWatch]\n    end\n\n    subgraph \"External Services\"\n        Atlas[MongoDB Atlas]\n    end\n\n    subgraph \"Monitoring Platform\"\n        Datadog[Datadog]\n        Sentry[Sentry]\n    end\n\n    subgraph \"Notification\"\n        Slack[Slack]\n        Email[Email]\n        PagerDuty[PagerDuty&lt;br&gt;\u30aa\u30f3\u30b3\u30fc\u30eb]\n    end\n\n    ECS --&gt; CloudWatch\n    Aurora --&gt; CloudWatch\n    ALB --&gt; CloudWatch\n    Atlas --&gt; Datadog\n\n    CloudWatch --&gt; Datadog\n    ECS --&gt; Datadog\n    ECS --&gt; Sentry\n\n    Datadog --&gt; Slack\n    Datadog --&gt; Email\n    Sentry --&gt; Slack\n\n    Datadog --&gt; PagerDuty\n    Sentry --&gt; PagerDuty\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_4","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u30c4\u30fc\u30eb","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#cloudwatch","title":"CloudWatch","text":"<p>\u7528\u9014:</p> <ul> <li>AWS\u30ea\u30bd\u30fc\u30b9\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u53ce\u96c6</li> <li>\u30ed\u30b0\u7ba1\u7406</li> <li>\u30a2\u30e9\u30fc\u30e0\u8a2d\u5b9a</li> </ul> <p>\u30e1\u30c8\u30ea\u30af\u30b9:</p> <ul> <li>ECS: CPU\u4f7f\u7528\u7387\u3001\u30e1\u30e2\u30ea\u4f7f\u7528\u7387\u3001\u30bf\u30b9\u30af\u6570</li> <li>Aurora: \u63a5\u7d9a\u6570\u3001\u30af\u30a8\u30ea\u30ec\u30a4\u30c6\u30f3\u30b7\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u4f7f\u7528\u91cf</li> <li>ALB: \u30ea\u30af\u30a8\u30b9\u30c8\u6570\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u3001\u30a8\u30e9\u30fc\u7387</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#datadog","title":"Datadog","text":"<p>\u7528\u9014:</p> <ul> <li>\u7d71\u5408\u76e3\u8996\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0</li> <li>APM\uff08Application Performance Monitoring\uff09</li> <li>\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u76e3\u8996</li> <li>\u30ed\u30b0\u7ba1\u7406</li> <li>\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9</li> </ul> <p>\u4e3b\u8981\u6a5f\u80fd:</p> <ul> <li>\u30c8\u30ec\u30fc\u30b9\uff08\u5206\u6563\u30c8\u30ec\u30fc\u30b7\u30f3\u30b0\uff09</li> <li>\u30e1\u30c8\u30ea\u30af\u30b9\uff08\u30ab\u30b9\u30bf\u30e0\u30e1\u30c8\u30ea\u30af\u30b9\uff09</li> <li>\u30ed\u30b0\uff08\u30ed\u30b0\u96c6\u7d04\u30fb\u691c\u7d22\uff09</li> <li>\u30a2\u30e9\u30fc\u30c8\uff08\u7570\u5e38\u691c\u77e5\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sentry","title":"Sentry","text":"<p>\u7528\u9014:</p> <ul> <li>\u30a8\u30e9\u30fc\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0</li> <li>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996</li> <li>\u30ea\u30ea\u30fc\u30b9\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0</li> </ul> <p>\u4e3b\u8981\u6a5f\u80fd:</p> <ul> <li>\u30a8\u30e9\u30fc\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9</li> <li>\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8\uff08\u30e6\u30fc\u30b6\u30fc\u884c\u52d5\uff09</li> <li>\u30ea\u30ea\u30fc\u30b9\u8ffd\u8de1</li> <li>\u30a2\u30e9\u30fc\u30c8\u901a\u77e5</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_5","title":"\u30e1\u30c8\u30ea\u30af\u30b9\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_6","title":"\u30a4\u30f3\u30d5\u30e9\u30e1\u30c8\u30ea\u30af\u30b9","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#ecs-fargate","title":"ECS Fargate","text":"\u30e1\u30c8\u30ea\u30af\u30b9 \u8aac\u660e \u95be\u5024 \u30a2\u30e9\u30fc\u30c8 CPUUtilization CPU\u4f7f\u7528\u7387 80% Warning 90% Critical MemoryUtilization \u30e1\u30e2\u30ea\u4f7f\u7528\u7387 80% Warning 90% Critical RunningTaskCount \u5b9f\u884c\u4e2d\u30bf\u30b9\u30af\u6570 &lt; 1 Critical DesiredTaskCount \u671f\u5f85\u30bf\u30b9\u30af\u6570 - -"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#aurora-postgresql","title":"Aurora PostgreSQL","text":"\u30e1\u30c8\u30ea\u30af\u30b9 \u8aac\u660e \u95be\u5024 \u30a2\u30e9\u30fc\u30c8 DatabaseConnections DB\u63a5\u7d9a\u6570 &gt; 80 Warning &gt; 100 Critical CPUUtilization CPU\u4f7f\u7528\u7387 70% Warning 85% Critical FreeableMemory \u7a7a\u304d\u30e1\u30e2\u30ea &lt; 500MB Warning &lt; 200MB Critical ReadLatency \u8aad\u307f\u53d6\u308a\u30ec\u30a4\u30c6\u30f3\u30b7 &gt; 10ms Warning &gt; 50ms Critical WriteLatency \u66f8\u304d\u8fbc\u307f\u30ec\u30a4\u30c6\u30f3\u30b7 &gt; 10ms Warning &gt; 50ms Critical AuroraVolumeBytesLeftTotal \u6b8b\u308a\u30b9\u30c8\u30ec\u30fc\u30b8 &lt; 10GB Warning"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#alb","title":"ALB","text":"\u30e1\u30c8\u30ea\u30af\u30b9 \u8aac\u660e \u95be\u5024 \u30a2\u30e9\u30fc\u30c8 TargetResponseTime \u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0 &gt; 1s Warning &gt; 3s Critical HTTPCode_Target_5XX_Count 5xx\u30a8\u30e9\u30fc\u6570 &gt; 10/5min Warning &gt; 50/5min Critical HTTPCode_Target_4XX_Count 4xx\u30a8\u30e9\u30fc\u6570 &gt; 100/5min Warning UnHealthyHostCount \u7570\u5e38\u30db\u30b9\u30c8\u6570 &gt; 0 Critical RequestCount \u30ea\u30af\u30a8\u30b9\u30c8\u6570 - -"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_7","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30e1\u30c8\u30ea\u30af\u30b9","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#nextjs-web","title":"Next.js Web","text":"\u30e1\u30c8\u30ea\u30af\u30b9 \u8aac\u660e \u95be\u5024 \u30a2\u30e9\u30fc\u30c8 http.request.duration \u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u6642\u9593 p95 &gt; 1s Warning p95 &gt; 3s Critical http.request.errors HTTP\u30a8\u30e9\u30fc\u7387 &gt; 1% Warning &gt; 5% Critical memory.heap.used \u30d2\u30fc\u30d7\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf &gt; 700MB Warning &gt; 900MB Critical"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#nestjs-api","title":"NestJS API","text":"\u30e1\u30c8\u30ea\u30af\u30b9 \u8aac\u660e \u95be\u5024 \u30a2\u30e9\u30fc\u30c8 http.request.duration \u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u6642\u9593 p95 &gt; 500ms Warning p95 &gt; 2s Critical http.request.errors HTTP\u30a8\u30e9\u30fc\u7387 &gt; 1% Warning &gt; 5% Critical database.query.duration DB\u30af\u30a8\u30ea\u6642\u9593 p95 &gt; 100ms Warning p95 &gt; 500ms Critical database.connection.active \u30a2\u30af\u30c6\u30a3\u30d6DB\u63a5\u7d9a\u6570 &gt; 50 Warning &gt; 80 Critical"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_8","title":"\u30ed\u30ae\u30f3\u30b0\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_9","title":"\u30ed\u30b0\u30ec\u30d9\u30eb","text":"\u30ec\u30d9\u30eb \u8aac\u660e \u7528\u9014 ERROR \u30a8\u30e9\u30fc \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc\u3001\u4f8b\u5916 WARN \u8b66\u544a \u6f5c\u5728\u7684\u306a\u554f\u984c\u3001\u975e\u63a8\u5968\u6a5f\u80fd\u4f7f\u7528 INFO \u60c5\u5831 \u91cd\u8981\u306a\u30a4\u30d9\u30f3\u30c8\u3001\u72b6\u614b\u5909\u66f4 DEBUG \u30c7\u30d0\u30c3\u30b0 \u8a73\u7d30\u306a\u30c7\u30d0\u30c3\u30b0\u60c5\u5831"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_10","title":"\u30ed\u30b0\u51fa\u529b\u5148","text":"<p>\u672c\u756a\u74b0\u5883:</p> <ul> <li>CloudWatch Logs\uff08\u3059\u3079\u3066\u306e\u30ed\u30b0\uff09</li> <li>Datadog\uff08ERROR\u3001WARN\u3001INFO\uff09</li> <li>Sentry\uff08ERROR\uff09</li> </ul> <p>Staging\u74b0\u5883:</p> <ul> <li>CloudWatch Logs\uff08\u3059\u3079\u3066\u306e\u30ed\u30b0\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_11","title":"\u30ed\u30b0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<p>JSON\u5f62\u5f0f:</p> <pre><code>{\n  \"timestamp\": \"2025-01-15T12:34:56.789Z\",\n  \"level\": \"ERROR\",\n  \"service\": \"api-core\",\n  \"environment\": \"production\",\n  \"message\": \"Database connection failed\",\n  \"error\": {\n    \"name\": \"ConnectionError\",\n    \"message\": \"Connection timeout\",\n    \"stack\": \"Error: Connection timeout\\n  at ...\"\n  },\n  \"context\": {\n    \"userId\": \"user123\",\n    \"requestId\": \"req-abc123\",\n    \"traceId\": \"trace-xyz789\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_12","title":"\u30ed\u30b0\u4fdd\u6301\u671f\u9593","text":"\u30ed\u30b0\u30bf\u30a4\u30d7 CloudWatch Datadog MongoDB Atlas \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0 30\u65e5 15\u65e5 30\u65e5 \u30a2\u30af\u30bb\u30b9\u30ed\u30b0 30\u65e5 15\u65e5 - \u30a8\u30e9\u30fc\u30ed\u30b0 90\u65e5 30\u65e5 - \u76e3\u67fb\u30ed\u30b0 365\u65e5 90\u65e5 -"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#cloudwatch-logs","title":"CloudWatch Logs\u8a2d\u5b9a","text":"<pre><code># CloudWatch Log Group\uff08Web\uff09\nresource \"aws_cloudwatch_log_group\" \"web\" {\n  name              = \"/ecs/${var.project_name}-${var.environment}-web\"\n  retention_in_days = 30\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-web-logs\"\n  }\n}\n\n# CloudWatch Log Group\uff08API\uff09\nresource \"aws_cloudwatch_log_group\" \"api\" {\n  name              = \"/ecs/${var.project_name}-${var.environment}-api\"\n  retention_in_days = 30\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-api-logs\"\n  }\n}\n\n# CloudWatch Log Group\uff08ALB\uff09\nresource \"aws_cloudwatch_log_group\" \"alb\" {\n  name              = \"/aws/alb/${var.project_name}-${var.environment}\"\n  retention_in_days = 30\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-alb-logs\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_13","title":"\u30a2\u30e9\u30fc\u30c8\u8a2d\u8a08","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_14","title":"\u30a2\u30e9\u30fc\u30c8\u91cd\u8981\u5ea6","text":"\u91cd\u8981\u5ea6 \u8aac\u660e \u901a\u77e5\u5148 \u5bfe\u5fdc\u6642\u9593 Critical \u30b5\u30fc\u30d3\u30b9\u505c\u6b62\u3001\u91cd\u5927\u306a\u969c\u5bb3 Slack\u3001Email\u3001PagerDuty \u5373\u5ea7 Warning \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u4f4e\u4e0b\u3001\u6f5c\u5728\u7684\u554f\u984c Slack\u3001Email 1\u6642\u9593\u4ee5\u5185 Info \u60c5\u5831\u63d0\u4f9b\u3001\u7d71\u8a08 Slack -"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#cloudwatch-alarms","title":"CloudWatch Alarms","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#ecs-cpucritical","title":"ECS CPU\u4f7f\u7528\u7387\uff08Critical\uff09","text":"<pre><code>resource \"aws_cloudwatch_metric_alarm\" \"ecs_cpu_high\" {\n  alarm_name          = \"${var.project_name}-${var.environment}-ecs-cpu-high\"\n  comparison_operator = \"GreaterThanThreshold\"\n  evaluation_periods  = \"2\"\n  metric_name         = \"CPUUtilization\"\n  namespace           = \"AWS/ECS\"\n  period              = \"300\"\n  statistic           = \"Average\"\n  threshold           = \"90\"\n  alarm_description   = \"ECS CPU utilization is too high\"\n  alarm_actions       = [aws_sns_topic.critical.arn]\n\n  dimensions = {\n    ClusterName = aws_ecs_cluster.main.name\n    ServiceName = aws_ecs_service.api.name\n  }\n\n  tags = {\n    Name     = \"${var.project_name}-${var.environment}-ecs-cpu-high\"\n    Severity = \"Critical\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#aurorawarning","title":"Aurora\u63a5\u7d9a\u6570\uff08Warning\uff09","text":"<pre><code>resource \"aws_cloudwatch_metric_alarm\" \"aurora_connections_high\" {\n  alarm_name          = \"${var.project_name}-${var.environment}-aurora-connections-high\"\n  comparison_operator = \"GreaterThanThreshold\"\n  evaluation_periods  = \"2\"\n  metric_name         = \"DatabaseConnections\"\n  namespace           = \"AWS/RDS\"\n  period              = \"300\"\n  statistic           = \"Average\"\n  threshold           = \"80\"\n  alarm_description   = \"Aurora database connections are high\"\n  alarm_actions       = [aws_sns_topic.warning.arn]\n\n  dimensions = {\n    DBClusterIdentifier = aws_rds_cluster.main.cluster_identifier\n  }\n\n  tags = {\n    Name     = \"${var.project_name}-${var.environment}-aurora-connections-high\"\n    Severity = \"Warning\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#alb-5xxcritical","title":"ALB 5xx\u30a8\u30e9\u30fc\uff08Critical\uff09","text":"<pre><code>resource \"aws_cloudwatch_metric_alarm\" \"alb_5xx_errors\" {\n  alarm_name          = \"${var.project_name}-${var.environment}-alb-5xx-errors\"\n  comparison_operator = \"GreaterThanThreshold\"\n  evaluation_periods  = \"2\"\n  metric_name         = \"HTTPCode_Target_5XX_Count\"\n  namespace           = \"AWS/ApplicationELB\"\n  period              = \"300\"\n  statistic           = \"Sum\"\n  threshold           = \"50\"\n  alarm_description   = \"ALB 5xx errors are too high\"\n  alarm_actions       = [aws_sns_topic.critical.arn]\n\n  dimensions = {\n    LoadBalancer = aws_lb.main.arn_suffix\n  }\n\n  tags = {\n    Name     = \"${var.project_name}-${var.environment}-alb-5xx-errors\"\n    Severity = \"Critical\"\n  }\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#datadog-monitors","title":"Datadog Monitors","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#api-error-ratecritical","title":"API Error Rate\uff08Critical\uff09","text":"<pre><code>resource \"datadog_monitor\" \"api_error_rate\" {\n  name    = \"${var.project_name}-${var.environment} API Error Rate\"\n  type    = \"metric alert\"\n  message = &lt;&lt;-EOT\n    **API error rate is too high**\n\n    Current error rate: {{value}}%\n\n    @slack-critical\n    @pagerduty-oncall\n  EOT\n\n  query = \"avg(last_5m):sum:trace.express.request.errors{env:${var.environment}} / sum:trace.express.request.hits{env:${var.environment}} * 100 &gt; 5\"\n\n  thresholds = {\n    critical = 5\n    warning  = 1\n  }\n\n  notify_no_data    = true\n  no_data_timeframe = 10\n  renotify_interval = 60\n\n  tags = [\n    \"env:${var.environment}\",\n    \"service:api-core\",\n    \"severity:critical\"\n  ]\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#database-query-performancewarning","title":"Database Query Performance\uff08Warning\uff09","text":"<pre><code>resource \"datadog_monitor\" \"db_query_slow\" {\n  name    = \"${var.project_name}-${var.environment} Slow Database Queries\"\n  type    = \"metric alert\"\n  message = &lt;&lt;-EOT\n    **Database queries are slow**\n\n    P95 latency: {{value}}ms\n\n    @slack-warning\n  EOT\n\n  query = \"avg(last_10m):p95:trace.postgres.query.duration{env:${var.environment}} &gt; 500\"\n\n  thresholds = {\n    critical = 500\n    warning  = 100\n  }\n\n  tags = [\n    \"env:${var.environment}\",\n    \"service:api-core\",\n    \"severity:warning\"\n  ]\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sentry-alerts","title":"Sentry Alerts","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#high-error-rate","title":"High Error Rate","text":"<ul> <li>5\u5206\u9593\u306b10\u4ef6\u4ee5\u4e0a\u306e\u30a8\u30e9\u30fc\u767a\u751f</li> <li>\u540c\u4e00\u30a8\u30e9\u30fc\u304c1\u6642\u9593\u306b50\u4ef6\u4ee5\u4e0a\u767a\u751f</li> <li>\u65b0\u3057\u3044\u30bf\u30a4\u30d7\u306e\u30a8\u30e9\u30fc\u691c\u77e5</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#performance-degradation","title":"Performance Degradation","text":"<ul> <li>\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u51e6\u7406\u6642\u9593\u304c\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u306e2\u500d\u4ee5\u4e0a</li> <li>LCP\uff08Largest Contentful Paint\uff09\u304c3\u79d2\u4ee5\u4e0a</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_15","title":"\u901a\u77e5\u8a2d\u5b9a","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sns-topic","title":"SNS Topic","text":"<pre><code># Critical Alerts\nresource \"aws_sns_topic\" \"critical\" {\n  name = \"${var.project_name}-${var.environment}-critical-alerts\"\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-critical-alerts\"\n  }\n}\n\n# Warning Alerts\nresource \"aws_sns_topic\" \"warning\" {\n  name = \"${var.project_name}-${var.environment}-warning-alerts\"\n\n  tags = {\n    Name = \"${var.project_name}-${var.environment}-warning-alerts\"\n  }\n}\n\n# SNS to Slack\uff08Lambda\u7d4c\u7531\uff09\nresource \"aws_sns_topic_subscription\" \"critical_to_slack\" {\n  topic_arn = aws_sns_topic.critical.arn\n  protocol  = \"lambda\"\n  endpoint  = aws_lambda_function.sns_to_slack.arn\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#slack","title":"Slack\u901a\u77e5","text":"<p>\u30c1\u30e3\u30f3\u30cd\u30eb:</p> <ul> <li><code>#alerts-critical</code>: Critical \u30a2\u30e9\u30fc\u30c8</li> <li><code>#alerts-warning</code>: Warning \u30a2\u30e9\u30fc\u30c8</li> <li><code>#monitoring</code>: \u30e1\u30c8\u30ea\u30af\u30b9\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3001\u5b9a\u671f\u30ec\u30dd\u30fc\u30c8</li> </ul> <p>\u901a\u77e5\u30d5\u30a9\u30fc\u30de\u30c3\u30c8:</p> <pre><code>\ud83d\udea8 **Critical Alert**\n\n**Service**: API Core\n**Environment**: Production\n**Alert**: ECS CPU High\n**Value**: 95%\n**Threshold**: 90%\n**Time**: 2025-01-15 12:34:56 JST\n\n[View in CloudWatch](link) | [View in Datadog](link)\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_16","title":"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#cloudwatch-dashboard","title":"CloudWatch Dashboard","text":"<p>\u30b7\u30b9\u30c6\u30e0\u6982\u8981:</p> <ul> <li>ECS CPU/\u30e1\u30e2\u30ea\u4f7f\u7528\u7387\uff08\u30b0\u30e9\u30d5\uff09</li> <li>Aurora\u63a5\u7d9a\u6570\uff08\u30b0\u30e9\u30d5\uff09</li> <li>ALB\u30ea\u30af\u30a8\u30b9\u30c8\u6570\uff08\u30b0\u30e9\u30d5\uff09</li> <li>ALB\u30a8\u30e9\u30fc\u7387\uff08\u30b0\u30e9\u30d5\uff09</li> </ul> <pre><code>resource \"aws_cloudwatch_dashboard\" \"main\" {\n  dashboard_name = \"${var.project_name}-${var.environment}\"\n\n  dashboard_body = jsonencode({\n    widgets = [\n      {\n        type = \"metric\"\n        properties = {\n          metrics = [\n            [\"AWS/ECS\", \"CPUUtilization\", { stat = \"Average\" }],\n            [\".\", \"MemoryUtilization\", { stat = \"Average\" }]\n          ]\n          period = 300\n          stat   = \"Average\"\n          region = var.aws_region\n          title  = \"ECS CPU &amp; Memory\"\n        }\n      },\n      {\n        type = \"metric\"\n        properties = {\n          metrics = [\n            [\"AWS/RDS\", \"DatabaseConnections\", { stat = \"Average\" }],\n            [\".\", \"CPUUtilization\", { stat = \"Average\" }]\n          ]\n          period = 300\n          stat   = \"Average\"\n          region = var.aws_region\n          title  = \"Aurora Metrics\"\n        }\n      }\n    ]\n  })\n}\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#datadog-dashboard","title":"Datadog Dashboard","text":"<p>APM\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9:</p> <ul> <li>\u30ea\u30af\u30a8\u30b9\u30c8\u6570\uff08\u6642\u7cfb\u5217\uff09</li> <li>\u30a8\u30e9\u30fc\u7387\uff08\u6642\u7cfb\u5217\uff09</li> <li>\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0\u5206\u5e03\uff08\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\uff09</li> <li>\u30c8\u30c3\u30d7\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\uff08\u30c6\u30fc\u30d6\u30eb\uff09</li> </ul> <p>\u30a4\u30f3\u30d5\u30e9\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9:</p> <ul> <li>\u30db\u30b9\u30c8\u30de\u30c3\u30d7\uff08CPU/\u30e1\u30e2\u30ea\u4f7f\u7528\u7387\uff09</li> <li>\u30b3\u30f3\u30c6\u30ca\u30ea\u30bd\u30fc\u30b9\uff08CPU/\u30e1\u30e2\u30ea\uff09</li> <li>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\uff08\u9001\u53d7\u4fe1\uff09</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sli-slo-sla","title":"SLI / SLO / SLA","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sliservice-level-indicator","title":"SLI\uff08Service Level Indicator\uff09","text":"\u6307\u6a19 \u8a08\u6e2c\u65b9\u6cd5 \u53ef\u7528\u6027 \u6b63\u5e38\u30ec\u30b9\u30dd\u30f3\u30b9\u6570 / \u7dcf\u30ea\u30af\u30a8\u30b9\u30c8\u6570 \u30ec\u30a4\u30c6\u30f3\u30b7 p95\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30e0 \u30a8\u30e9\u30fc\u7387 5xx\u30a8\u30e9\u30fc\u6570 / \u7dcf\u30ea\u30af\u30a8\u30b9\u30c8\u6570"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sloservice-level-objective","title":"SLO\uff08Service Level Objective\uff09","text":"\u6307\u6a19 \u76ee\u6a19\u5024 \u8a08\u6e2c\u671f\u9593 \u53ef\u7528\u6027 99.9\uff05\u4ee5\u4e0a \u6708\u6b21 \u30ec\u30a4\u30c6\u30f3\u30b7\uff08p95\uff09 1\u79d2\u4ee5\u5185 \u6708\u6b21 \u30a8\u30e9\u30fc\u7387 0.1\uff05\u4ee5\u4e0b \u6708\u6b21"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#slaservice-level-agreement","title":"SLA\uff08Service Level Agreement\uff09","text":"<ul> <li>\u53ef\u7528\u6027: 99.9\uff05\uff08\u6708\u9593\u30c0\u30a6\u30f3\u30bf\u30a4\u30e043.2\u5206\u4ee5\u5185\uff09</li> <li>\u30b5\u30dd\u30fc\u30c8\u5bfe\u5fdc: 24\u6642\u9593365\u65e5</li> <li>\u969c\u5bb3\u901a\u77e5: 15\u5206\u4ee5\u5185</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_17","title":"\u30aa\u30f3\u30b3\u30fc\u30eb\u4f53\u5236","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_18","title":"\u30aa\u30f3\u30b3\u30fc\u30eb\u62c5\u5f53","text":"<ul> <li>\u30d7\u30e9\u30a4\u30de\u30ea: \u958b\u767a\u30c1\u30fc\u30e0\u30ea\u30fc\u30c0\u30fc</li> <li>\u30bb\u30ab\u30f3\u30c0\u30ea: \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2</li> <li>\u30a8\u30b9\u30ab\u30ec\u30fc\u30b7\u30e7\u30f3: CTO</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_19","title":"\u30aa\u30f3\u30b3\u30fc\u30eb\u6642\u9593\u5e2f","text":"<ul> <li>\u5e73\u65e5: 9:00\u301c18:00\uff08\u901a\u5e38\u5bfe\u5fdc\uff09</li> <li>\u591c\u9593\u30fb\u4f11\u65e5: PagerDuty\u306b\u3088\u308b\u81ea\u52d5\u901a\u77e5</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_20","title":"\u30aa\u30f3\u30b3\u30fc\u30eb\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3","text":"<ul> <li>1\u9031\u9593\u5358\u4f4d\u3067\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3</li> <li>PagerDuty\u3067\u7ba1\u7406</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_21","title":"\u5b9a\u671f\u30ec\u30dd\u30fc\u30c8","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_22","title":"\u65e5\u6b21\u30ec\u30dd\u30fc\u30c8","text":"<ul> <li>SLI\u9054\u6210\u72b6\u6cc1</li> <li>\u30a8\u30e9\u30fc\u767a\u751f\u4ef6\u6570</li> <li>\u30ea\u30af\u30a8\u30b9\u30c8\u6570\u63a8\u79fb</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_23","title":"\u9031\u6b21\u30ec\u30dd\u30fc\u30c8","text":"<ul> <li>SLO\u9054\u6210\u72b6\u6cc1</li> <li>\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30b5\u30de\u30ea\u30fc</li> <li>\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u4e00\u89a7</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_24","title":"\u6708\u6b21\u30ec\u30dd\u30fc\u30c8","text":"<ul> <li>SLA\u9054\u6210\u72b6\u6cc1</li> <li>\u30b3\u30b9\u30c8\u5206\u6790</li> <li>\u30ad\u30e3\u30d1\u30b7\u30c6\u30a3\u8a08\u753b</li> <li>\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u5206\u6790</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_25","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#cloudwatch-insights","title":"\u30ed\u30b0\u691c\u7d22\uff08CloudWatch Insights\uff09","text":"<p>\u30a8\u30e9\u30fc\u30ed\u30b0\u691c\u7d22:</p> <pre><code>fields @timestamp, level, message, error.message\n| filter level = \"ERROR\"\n| sort @timestamp desc\n| limit 100\n</code></pre> <p>\u30b9\u30ed\u30fc\u30af\u30a8\u30ea\u691c\u7d22:</p> <pre><code>fields @timestamp, database.query.duration, database.query.sql\n| filter database.query.duration &gt; 1000\n| sort database.query.duration desc\n| limit 50\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#datadog_1","title":"\u30e1\u30c8\u30ea\u30af\u30b9\u5206\u6790\uff08Datadog\uff09","text":"<p>\u30ec\u30a4\u30c6\u30f3\u30b7\u5206\u6790:</p> <pre><code>avg:trace.express.request.duration{env:production} by {resource_name}\n</code></pre> <p>\u30a8\u30e9\u30fc\u7387\u5206\u6790:</p> <pre><code>sum:trace.express.request.errors{env:production} / sum:trace.express.request.hits{env:production} * 100\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_26","title":"\u74b0\u5883\u5225\u8a2d\u5b9a","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#staging","title":"Staging\u74b0\u5883\uff08\u691c\u8a3c\u74b0\u5883\uff09","text":"<p>\u691c\u8a3c\u74b0\u5883\u3067\u306f\u7121\u6599\u67a0\u5185\u306b\u53ce\u3081\u308b\u305f\u3081\u3001\u6700\u5c0f\u9650\u306e\u8a2d\u5b9a\u3068\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#datadog_2","title":"Datadog\u8a2d\u5b9a","text":"<ul> <li>\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u7387: 5%</li> <li>\u30ec\u30fc\u30c8\u5236\u9650: 10\u30b9\u30d1\u30f3/\u79d2</li> <li>\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0: \u7121\u52b9</li> <li>\u30e9\u30f3\u30bf\u30a4\u30e0\u30e1\u30c8\u30ea\u30af\u30b9: \u7121\u52b9</li> </ul> <p>\u74b0\u5883\u5909\u6570:</p> <pre><code>NODE_ENV=staging\nDD_ENV=staging\nDD_SERVICE=bookmark-api\nDD_VERSION=1.0.0\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sentry_1","title":"Sentry\u8a2d\u5b9a","text":"<p>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff08NestJS\uff09:</p> <ul> <li>\u9069\u7528\u306a\u3057\uff08Sentry\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u307f\u4f7f\u7528\uff09</li> </ul> <p>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\uff08Next.js\uff09:</p> <ul> <li>\u30a8\u30e9\u30fc\u8a18\u9332: 100\uff05\uff08sampleRate: 1.0\uff09</li> <li>\u30c8\u30ec\u30fc\u30b9\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0: 5%</li> <li>API\u30eb\u30fc\u30c8: 20%</li> <li>\u30da\u30fc\u30b8\u30d3\u30e5\u30fc: 5%</li> <li>\u30bb\u30c3\u30b7\u30e7\u30f3\u30ea\u30d7\u30ec\u30a4: \u7121\u52b9\uff08\u901a\u5e38\u6642\u30fb\u30a8\u30e9\u30fc\u6642\u3068\u3082\u306b0\uff05\uff09</li> </ul> <p>\u74b0\u5883\u5909\u6570:</p> <pre><code>NODE_ENV=staging\nNEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#production","title":"Production\u74b0\u5883\uff08\u672c\u756a\u74b0\u5883\uff09","text":"<p>\u672c\u756a\u74b0\u5883\u3067\u306f\u5b9f\u7528\u7684\u306a\u8a2d\u5b9a\u3067\u3001\u9069\u5207\u306a\u76e3\u8996\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#datadog_3","title":"Datadog\u8a2d\u5b9a","text":"<ul> <li>\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u7387: 20%</li> <li>\u30ec\u30fc\u30c8\u5236\u9650: 50\u30b9\u30d1\u30f3/\u79d2</li> <li>\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0: \u6709\u52b9</li> <li>\u30e9\u30f3\u30bf\u30a4\u30e0\u30e1\u30c8\u30ea\u30af\u30b9: \u6709\u52b9</li> </ul> <p>\u74b0\u5883\u5909\u6570:</p> <pre><code>NODE_ENV=production\nDD_ENV=production\nDD_SERVICE=bookmark-api\nDD_VERSION=1.0.0\nDD_AGENT_HOST=localhost\nDD_TRACE_AGENT_PORT=8126\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sentry_2","title":"Sentry\u8a2d\u5b9a","text":"<p>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff08NestJS\uff09:</p> <ul> <li>\u9069\u7528\u306a\u3057\uff08Sentry\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u307f\u4f7f\u7528\uff09</li> </ul> <p>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\uff08Next.js\uff09:</p> <ul> <li>\u30a8\u30e9\u30fc\u8a18\u9332: 100\uff05\uff08sampleRate: 1.0\uff09</li> <li>\u30c8\u30ec\u30fc\u30b9\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0: 20%</li> <li>API\u30eb\u30fc\u30c8: 100%</li> <li>\u30da\u30fc\u30b8\u30d3\u30e5\u30fc: 20%</li> <li>\u30bb\u30c3\u30b7\u30e7\u30f3\u30ea\u30d7\u30ec\u30a4:</li> <li>\u901a\u5e38\u6642: \u7121\u52b9\uff080\uff05\uff09</li> <li>\u30a8\u30e9\u30fc\u6642: 10%</li> </ul> <p>\u74b0\u5883\u5909\u6570:</p> <pre><code>NODE_ENV=production\nNEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx\nSENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx\n</code></pre>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_27","title":"\u74b0\u5883\u5225\u8a2d\u5b9a\u306e\u5b9f\u88c5\u7b87\u6240","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#nestjs","title":"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff08NestJS\uff09","text":"<p>\u30d5\u30a1\u30a4\u30eb: <code>src/apps/web-api/core/src/main.ts</code></p> <p>Datadog\u8a2d\u5b9a\u306f\u74b0\u5883\u5909\u6570 <code>NODE_ENV</code> \u306b\u57fa\u3065\u3044\u3066\u52d5\u7684\u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#nextjs","title":"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\uff08Next.js\uff09","text":"<p>\u30d5\u30a1\u30a4\u30eb:</p> <ul> <li><code>src/apps/frontend/web/instrumentation-client.ts</code>\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\uff09</li> <li><code>src/apps/frontend/web/sentry.server.config.ts</code>\uff08\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\uff09</li> <li><code>src/apps/frontend/web/sentry.edge.config.ts</code>\uff08Edge\u30e9\u30f3\u30bf\u30a4\u30e0\uff09</li> </ul> <p>Sentry\u8a2d\u5b9a\u306f\u74b0\u5883\u5909\u6570 <code>NODE_ENV</code> \u306b\u57fa\u3065\u3044\u3066\u52d5\u7684\u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002</p>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_28","title":"\u30b3\u30b9\u30c8\u6700\u9069\u5316","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#cloudwatch-logs_1","title":"CloudWatch Logs","text":"<ul> <li>\u4fdd\u6301\u671f\u9593: 30\u65e5\uff0890\u65e5\u304b\u3089\u524a\u6e1b\uff09</li> <li>\u30ed\u30b0\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0: DEBUG\u30ed\u30b0\u306f\u672c\u756a\u74b0\u5883\u3067\u306f\u51fa\u529b\u3057\u306a\u3044</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#datadog_4","title":"Datadog","text":"<ul> <li>\u30ed\u30b0\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0: \u5168\u30ed\u30b0\u3067\u306f\u306a\u304f\u91cd\u8981\u30ed\u30b0\u306e\u307f\u9001\u4fe1</li> <li>\u30e1\u30c8\u30ea\u30af\u30b9\u7d5e\u308a\u8fbc\u307f: \u5fc5\u8981\u306a\u30e1\u30c8\u30ea\u30af\u30b9\u306e\u307f\u53ce\u96c6</li> <li>\u74b0\u5883\u5225\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0: staging=5\uff05, production=20%</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#sentry_3","title":"Sentry","text":"<ul> <li>\u30c8\u30ec\u30fc\u30b9\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0: staging=5\uff05, production=20%</li> <li>\u30bb\u30c3\u30b7\u30e7\u30f3\u30ea\u30d7\u30ec\u30a4: staging\u3067\u306f\u7121\u52b9\u3001production\u3067\u30a8\u30e9\u30fc\u6642\u306e\u307f10%</li> </ul>"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_29","title":"\u63a8\u5b9a\u30b3\u30b9\u30c8","text":""},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#staging_1","title":"Staging\u74b0\u5883","text":"\u30b5\u30fc\u30d3\u30b9 \u6708\u984d \u5099\u8003 CloudWatch Logs\uff081GB\uff09 $0.5 \u7121\u6599\u67a0\u4e00\u90e8\u5229\u7528 CloudWatch Alarms\uff085\u500b\uff09 $0.5 Datadog $0 \u7121\u6599\u30c8\u30e9\u30a4\u30a2\u30eb\u5229\u7528 Sentry\uff08Developer\uff09 $0 \u7121\u6599\u67a0\u5229\u7528 \u5408\u8a08 $1"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#production_1","title":"Production\u74b0\u5883","text":"\u30b5\u30fc\u30d3\u30b9 \u6708\u984d CloudWatch Logs\uff0810GB\uff09 $5 CloudWatch Alarms\uff0810\u500b\uff09 $1 Datadog\uff082\u30db\u30b9\u30c8\uff09 $30 Sentry\uff08Team\u30d7\u30e9\u30f3\uff09 $26 \u5408\u8a08 $62"},{"location":"06-%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E8%A8%AD%E8%A8%88/07-monitoring/#_30","title":"\u53c2\u8003\u30ea\u30f3\u30af","text":"<ul> <li>CloudWatch Documentation</li> <li>Datadog Documentation</li> <li>Sentry Documentation</li> <li>Google SRE Books</li> </ul>"}]}